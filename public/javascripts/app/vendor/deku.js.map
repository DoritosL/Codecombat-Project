{"version":3,"sources":["vendor/scripts/deku.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/javascripts/app/vendor/deku.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nwindow.deku = require('deku')\n\n},{\"deku\":12}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Use typed arrays if we can\n */\n\nvar FastArray = typeof Uint32Array === 'undefined' ? Array : Uint32Array;\n\n/**\n * Bit vector\n */\n\nfunction createBv(sizeInBits) {\n  return new FastArray(Math.ceil(sizeInBits / 32));\n}\n\nfunction setBit(v, idx) {\n  var r = idx % 32;\n  var pos = (idx - r) / 32;\n\n  v[pos] |= 1 << r;\n}\n\nfunction clearBit(v, idx) {\n  var r = idx % 32;\n  var pos = (idx - r) / 32;\n\n  v[pos] &= ~(1 << r);\n}\n\nfunction getBit(v, idx) {\n  var r = idx % 32;\n  var pos = (idx - r) / 32;\n\n  return !!(v[pos] & 1 << r);\n}\n\n/**\n * Exports\n */\n\nexports.createBv = createBv;\nexports.setBit = setBit;\nexports.clearBit = clearBit;\nexports.getBit = getBit;\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\n\nvar _dom = require('../dom');\n\nvar dom = _interopRequireWildcard(_dom);\n\nvar _diff = require('../diff');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Create a DOM renderer using a container element. Everything will be rendered\n * inside of that container. Returns a function that accepts new state that can\n * replace what is currently rendered.\n */\n\nfunction create(container, dispatch) {\n  var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n  var oldVnode = null;\n  var node = null;\n  var rootId = options.id || '0';\n\n  if (container && container.childNodes.length > 0) {\n    container.innerHTML = '';\n  }\n\n  var update = function update(newVnode, context) {\n    var changes = (0, _diff.diffNode)(oldVnode, newVnode, rootId);\n    node = changes.reduce(dom.update(dispatch, context), node);\n    oldVnode = newVnode;\n    return node;\n  };\n\n  var create = function create(vnode, context) {\n    node = dom.create(vnode, rootId, dispatch, context);\n    if (container) container.appendChild(node);\n    oldVnode = vnode;\n    return node;\n  };\n\n  return function (vnode) {\n    var context = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    return node !== null ? update(vnode, context) : create(vnode, context);\n  };\n}\n},{\"../diff\":4,\"../dom\":7}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Actions = undefined;\nexports.diffAttributes = diffAttributes;\nexports.diffChildren = diffChildren;\nexports.diffNode = diffNode;\n\nvar _element = require('../element');\n\nvar _dift = require('dift');\n\nvar diffActions = _interopRequireWildcard(_dift);\n\nvar _unionType = require('union-type');\n\nvar _unionType2 = _interopRequireDefault(_unionType);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar Any = function Any() {\n  return true;\n};\nvar Path = function Path() {\n  return String;\n};\n\n/**\n * Patch actions\n */\n\nvar Actions = exports.Actions = (0, _unionType2.default)({\n  setAttribute: [String, Any, Any],\n  removeAttribute: [String, Any],\n  insertChild: [Any, Number, Path],\n  removeChild: [Number],\n  updateChild: [Number, Array],\n  updateChildren: [Array],\n  insertBefore: [Number],\n  replaceNode: [Any, Any, Path],\n  removeNode: [Any],\n  sameNode: [],\n  updateThunk: [Any, Any, Path]\n});\n\n/**\n * Diff two attribute objects and return an array of actions that represent\n * changes to transform the old object into the new one.\n */\n\nfunction diffAttributes(previous, next) {\n  var setAttribute = Actions.setAttribute;\n  var removeAttribute = Actions.removeAttribute;\n\n  var changes = [];\n  var pAttrs = previous.attributes;\n  var nAttrs = next.attributes;\n\n  for (var name in nAttrs) {\n    if (nAttrs[name] !== pAttrs[name]) {\n      changes.push(setAttribute(name, nAttrs[name], pAttrs[name]));\n    }\n  }\n\n  for (var name in pAttrs) {\n    if (!(name in nAttrs)) {\n      changes.push(removeAttribute(name, pAttrs[name]));\n    }\n  }\n\n  return changes;\n}\n\n/**\n * Compare two arrays of virtual nodes and return an array of actions\n * to transform the left into the right. A starting path is supplied that use\n * recursively to build up unique paths for each node.\n */\n\nfunction diffChildren(previous, next, parentPath) {\n  var insertChild = Actions.insertChild;\n  var updateChild = Actions.updateChild;\n  var removeChild = Actions.removeChild;\n  var insertBefore = Actions.insertBefore;\n  var updateChildren = Actions.updateChildren;\n  var CREATE = diffActions.CREATE;\n  var UPDATE = diffActions.UPDATE;\n  var MOVE = diffActions.MOVE;\n  var REMOVE = diffActions.REMOVE;\n\n  var previousChildren = (0, _element.groupByKey)(previous.children);\n  var nextChildren = (0, _element.groupByKey)(next.children);\n  var key = function key(a) {\n    return a.key;\n  };\n  var changes = [];\n\n  function effect(type, prev, next, pos) {\n    var nextPath = next ? (0, _element.createPath)(parentPath, next.key == null ? next.index : next.key) : null;\n    switch (type) {\n      case CREATE:\n        {\n          changes.push(insertChild(next.item, pos, nextPath));\n          break;\n        }\n      case UPDATE:\n        {\n          var actions = diffNode(prev.item, next.item, nextPath);\n          if (actions.length > 0) {\n            changes.push(updateChild(prev.index, actions));\n          }\n          break;\n        }\n      case MOVE:\n        {\n          var actions = diffNode(prev.item, next.item, nextPath);\n          actions.push(insertBefore(pos));\n          changes.push(updateChild(prev.index, actions));\n          break;\n        }\n      case REMOVE:\n        {\n          changes.push(removeChild(prev.index));\n          break;\n        }\n    }\n  }\n\n  (0, diffActions.default)(previousChildren, nextChildren, effect, key);\n\n  return updateChildren(changes);\n}\n\n/**\n * Compare two virtual nodes and return an array of changes to turn the left\n * into the right.\n */\n\nfunction diffNode(prev, next, path) {\n  var changes = [];\n  var replaceNode = Actions.replaceNode;\n  var setAttribute = Actions.setAttribute;\n  var sameNode = Actions.sameNode;\n  var removeNode = Actions.removeNode;\n  var updateThunk = Actions.updateThunk;\n\n  // No left node to compare it to\n  // TODO: This should just return a createNode action\n\n  if (prev === null || prev === undefined) {\n    throw new Error('Left node must not be null or undefined');\n  }\n\n  // Bail out and skip updating this whole sub-tree\n  if (prev === next) {\n    changes.push(sameNode());\n    return changes;\n  }\n\n  // Remove\n  if (prev != null && next == null) {\n    changes.push(removeNode(prev));\n    return changes;\n  }\n\n  // Replace\n  if (prev.type !== next.type) {\n    changes.push(replaceNode(prev, next, path));\n    return changes;\n  }\n\n  // Text\n  if ((0, _element.isText)(next)) {\n    if (prev.nodeValue !== next.nodeValue) {\n      changes.push(setAttribute('nodeValue', next.nodeValue, prev.nodeValue));\n    }\n    return changes;\n  }\n\n  // Thunk\n  if ((0, _element.isThunk)(next)) {\n    if ((0, _element.isSameThunk)(prev, next)) {\n      changes.push(updateThunk(prev, next, path));\n    } else {\n      changes.push(replaceNode(prev, next, path));\n    }\n    return changes;\n  }\n\n  // Empty\n  if ((0, _element.isEmpty)(next)) {\n    return changes;\n  }\n\n  changes = diffAttributes(prev, next);\n  changes.push(diffChildren(prev, next, path));\n\n  return changes;\n}\n},{\"../element\":11,\"dift\":15,\"union-type\":26}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createElement;\n\nvar _element = require('../element');\n\nvar _setAttribute = require('./setAttribute');\n\nvar _svg = require('./svg');\n\nvar _svg2 = _interopRequireDefault(_svg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cache = {};\n\n/**\n * Create a real DOM element from a virtual element, recursively looping down.\n * When it finds custom elements it will render them, cache them, and keep going,\n * so they are treated like any other native element.\n */\n\nfunction createElement(vnode, path, dispatch, context) {\n  if ((0, _element.isText)(vnode)) {\n    var value = typeof vnode.nodeValue === 'string' || typeof vnode.nodeValue === 'number' ? vnode.nodeValue : '';\n    return document.createTextNode(value);\n  }\n\n  if ((0, _element.isEmpty)(vnode)) {\n    return document.createElement('noscript');\n  }\n\n  if ((0, _element.isThunk)(vnode)) {\n    var props = vnode.props;\n    var component = vnode.component;\n    var children = vnode.children;\n    var onCreate = component.onCreate;\n\n    var render = typeof component === 'function' ? component : component.render;\n    var model = {\n      children: children,\n      props: props,\n      path: path,\n      dispatch: dispatch,\n      context: context\n    };\n    var output = render(model);\n    var _DOMElement = createElement(output, (0, _element.createPath)(path, output.key || '0'), dispatch, context);\n    if (onCreate) onCreate(model);\n    vnode.state = {\n      vnode: output,\n      model: model\n    };\n    return _DOMElement;\n  }\n\n  var cached = cache[vnode.type];\n\n  if (typeof cached === 'undefined') {\n    cached = cache[vnode.type] = _svg2.default.isElement(vnode.type) ? document.createElementNS(_svg2.default.namespace, vnode.type) : document.createElement(vnode.type);\n  }\n\n  var DOMElement = cached.cloneNode(false);\n\n  for (var name in vnode.attributes) {\n    (0, _setAttribute.setAttribute)(DOMElement, name, vnode.attributes[name]);\n  }\n\n  vnode.children.forEach(function (node, index) {\n    if (node === null || node === undefined) {\n      return;\n    }\n    var child = createElement(node, (0, _element.createPath)(path, node.key || index), dispatch, context);\n    DOMElement.appendChild(child);\n  });\n\n  return DOMElement;\n}\n},{\"../element\":11,\"./setAttribute\":8,\"./svg\":9}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Special attributes that map to DOM events.\n */\n\nexports.default = {\n  onAbort: 'abort',\n  onAnimationStart: 'animationstart',\n  onAnimationIteration: 'animationiteration',\n  onAnimationEnd: 'animationend',\n  onBlur: 'blur',\n  onCanPlay: 'canplay',\n  onCanPlayThrough: 'canplaythrough',\n  onChange: 'change',\n  onClick: 'click',\n  onContextMenu: 'contextmenu',\n  onCopy: 'copy',\n  onCut: 'cut',\n  onDoubleClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragEnter: 'dragenter',\n  onDragExit: 'dragexit',\n  onDragLeave: 'dragleave',\n  onDragOver: 'dragover',\n  onDragStart: 'dragstart',\n  onDrop: 'drop',\n  onDurationChange: 'durationchange',\n  onEmptied: 'emptied',\n  onEncrypted: 'encrypted',\n  onEnded: 'ended',\n  onError: 'error',\n  onFocus: 'focus',\n  onInput: 'input',\n  onInvalid: 'invalid',\n  onKeyDown: 'keydown',\n  onKeyPress: 'keypress',\n  onKeyUp: 'keyup',\n  onLoad: 'load',\n  onLoadedData: 'loadeddata',\n  onLoadedMetadata: 'loadedmetadata',\n  onLoadStart: 'loadstart',\n  onPause: 'pause',\n  onPlay: 'play',\n  onPlaying: 'playing',\n  onProgress: 'progress',\n  onMouseDown: 'mousedown',\n  onMouseEnter: 'mouseenter',\n  onMouseLeave: 'mouseleave',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onPaste: 'paste',\n  onRateChange: 'ratechange',\n  onReset: 'reset',\n  onScroll: 'scroll',\n  onSeeked: 'seeked',\n  onSeeking: 'seeking',\n  onSubmit: 'submit',\n  onStalled: 'stalled',\n  onSuspend: 'suspend',\n  onTimeUpdate: 'timeupdate',\n  onTransitionEnd: 'transitionend',\n  onTouchCancel: 'touchcancel',\n  onTouchEnd: 'touchend',\n  onTouchMove: 'touchmove',\n  onTouchStart: 'touchstart',\n  onVolumeChange: 'volumechange',\n  onWaiting: 'waiting',\n  onWheel: 'wheel'\n};\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.update = exports.create = undefined;\n\nvar _create = require('./create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _update = require('./update');\n\nvar _update2 = _interopRequireDefault(_update);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.create = _create2.default;\nexports.update = _update2.default;\n},{\"./create\":5,\"./update\":10}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeAttribute = removeAttribute;\nexports.setAttribute = setAttribute;\n\nvar _svgAttributeNamespace = require('svg-attribute-namespace');\n\nvar _svgAttributeNamespace2 = _interopRequireDefault(_svgAttributeNamespace);\n\nvar _element = require('../element');\n\nvar _indexOf = require('index-of');\n\nvar _indexOf2 = _interopRequireDefault(_indexOf);\n\nvar _setify = require('setify');\n\nvar _setify2 = _interopRequireDefault(_setify);\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction removeAttribute(DOMElement, name, previousValue) {\n  var eventType = _events2.default[name];\n  if (eventType) {\n    if (typeof previousValue === 'function') {\n      DOMElement.removeEventListener(eventType, previousValue);\n    }\n    return;\n  }\n  switch (name) {\n    case 'checked':\n    case 'disabled':\n    case 'selected':\n      DOMElement[name] = false;\n      break;\n    case 'innerHTML':\n    case 'nodeValue':\n      DOMElement.innerHTML = '';\n      break;\n    case 'value':\n      DOMElement.value = '';\n      break;\n    default:\n      DOMElement.removeAttribute(name);\n      break;\n  }\n}\n\nfunction setAttribute(DOMElement, name, value, previousValue) {\n  var eventType = _events2.default[name];\n  if (value === previousValue) {\n    return;\n  }\n  if (eventType) {\n    if (typeof previousValue === 'function') {\n      DOMElement.removeEventListener(eventType, previousValue);\n    }\n    DOMElement.addEventListener(eventType, value);\n    return;\n  }\n  if (!(0, _element.isValidAttribute)(value)) {\n    removeAttribute(DOMElement, name, previousValue);\n    return;\n  }\n  switch (name) {\n    case 'checked':\n    case 'disabled':\n    case 'innerHTML':\n    case 'nodeValue':\n      DOMElement[name] = value;\n      break;\n    case 'selected':\n      DOMElement.selected = value;\n      // Fix for IE/Safari where select is not correctly selected on change\n      if (DOMElement.tagName === 'OPTION' && DOMElement.parentNode) {\n        var select = DOMElement.parentNode;\n        select.selectedIndex = (0, _indexOf2.default)(select.options, DOMElement);\n      }\n      break;\n    case 'value':\n      (0, _setify2.default)(DOMElement, value);\n      break;\n    default:\n      DOMElement.setAttributeNS((0, _svgAttributeNamespace2.default)(name), name, value);\n      break;\n  }\n}\n},{\"../element\":11,\"./events\":6,\"index-of\":16,\"setify\":24,\"svg-attribute-namespace\":25}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _isSvgElement = require('is-svg-element');\n\nvar namespace = 'http://www.w3.org/2000/svg';\n\nexports.default = {\n  isElement: _isSvgElement.isElement,\n  namespace: namespace\n};\n},{\"is-svg-element\":17}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.insertAtIndex = undefined;\nexports.default = patch;\n\nvar _setAttribute2 = require('./setAttribute');\n\nvar _element = require('../element');\n\nvar _create = require('./create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _diff = require('../diff');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Modify a DOM element given an array of actions. A context can be set\n * that will be used to render any custom elements.\n */\n\nfunction patch(dispatch, context) {\n  return function (DOMElement, action) {\n    _diff.Actions.case({\n      setAttribute: function setAttribute(name, value, previousValue) {\n        (0, _setAttribute2.setAttribute)(DOMElement, name, value, previousValue);\n      },\n      removeAttribute: function removeAttribute(name, previousValue) {\n        (0, _setAttribute2.removeAttribute)(DOMElement, name, previousValue);\n      },\n      insertBefore: function insertBefore(index) {\n        insertAtIndex(DOMElement.parentNode, index, DOMElement);\n      },\n      sameNode: function sameNode() {},\n      updateChildren: function updateChildren(changes) {\n        // Create a clone of the children so we can reference them later\n        // using their original position even if they move around\n        var childNodes = Array.prototype.slice.apply(DOMElement.childNodes);\n\n        changes.forEach(function (change) {\n          _diff.Actions.case({\n            insertChild: function insertChild(vnode, index, path) {\n              insertAtIndex(DOMElement, index, (0, _create2.default)(vnode, path, dispatch, context));\n            },\n            removeChild: function removeChild(index) {\n              DOMElement.removeChild(childNodes[index]);\n            },\n            updateChild: function updateChild(index, actions) {\n              var update = patch(dispatch, context);\n              actions.forEach(function (action) {\n                return update(childNodes[index], action);\n              });\n            }\n          }, change);\n        });\n      },\n      updateThunk: function updateThunk(prev, next, path) {\n        var props = next.props;\n        var children = next.children;\n        var component = next.component;\n        var onUpdate = component.onUpdate;\n\n        var render = typeof component === 'function' ? component : component.render;\n        var prevNode = prev.state.vnode;\n        var model = {\n          children: children,\n          props: props,\n          path: path,\n          dispatch: dispatch,\n          context: context\n        };\n        var nextNode = render(model);\n        var changes = (0, _diff.diffNode)(prevNode, nextNode, (0, _element.createPath)(path, '0'));\n        DOMElement = changes.reduce(patch(dispatch, context), DOMElement);\n        if (onUpdate) onUpdate(model);\n        next.state = {\n          vnode: nextNode,\n          model: model\n        };\n      },\n      replaceNode: function replaceNode(prev, next, path) {\n        var newEl = (0, _create2.default)(next, path, dispatch, context);\n        var parentEl = DOMElement.parentNode;\n        if (parentEl) parentEl.replaceChild(newEl, DOMElement);\n        DOMElement = newEl;\n        removeThunks(prev);\n      },\n      removeNode: function removeNode(prev) {\n        removeThunks(prev);\n        DOMElement.parentNode.removeChild(DOMElement);\n        DOMElement = null;\n      }\n    }, action);\n\n    return DOMElement;\n  };\n}\n\n/**\n * Recursively remove all thunks\n */\n\nfunction removeThunks(vnode) {\n  while ((0, _element.isThunk)(vnode)) {\n    var _vnode = vnode;\n    var component = _vnode.component;\n    var state = _vnode.state;\n    var onRemove = component.onRemove;\n    var model = state.model;\n\n    if (onRemove) onRemove(model);\n    vnode = state.vnode;\n  }\n\n  if (vnode.children) {\n    for (var i = 0; i < vnode.children.length; i++) {\n      removeThunks(vnode.children[i]);\n    }\n  }\n}\n\n/**\n * Slightly nicer insertBefore\n */\n\nvar insertAtIndex = exports.insertAtIndex = function insertAtIndex(parent, index, el) {\n  var target = parent.childNodes[index];\n  if (target) {\n    parent.insertBefore(el, target);\n  } else {\n    parent.appendChild(el);\n  }\n};\n},{\"../diff\":4,\"../element\":11,\"./create\":5,\"./setAttribute\":8}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.createTextElement = createTextElement;\nexports.createEmptyElement = createEmptyElement;\nexports.createThunkElement = createThunkElement;\nexports.isValidAttribute = isValidAttribute;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\n/**\n * This function lets us create virtual nodes using a simple\n * syntax. It is compatible with JSX transforms so you can use\n * JSX to write nodes that will compile to this function.\n *\n * let node = element('div', { id: 'foo' }, [\n *   element('a', { href: 'http://google.com' },\n *     element('span', {}, 'Google'),\n *     element('b', {}, 'Link')\n *   )\n * ])\n */\n\nfunction create(type, attributes) {\n  for (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  if (!type) throw new TypeError('element() needs a type.');\n\n  attributes = attributes || {};\n  children = (children || []).reduce(reduceChildren, []);\n\n  var key = typeof attributes.key === 'string' || typeof attributes.key === 'number' ? attributes.key : undefined;\n\n  delete attributes.key;\n\n  if ((typeof type === 'undefined' ? 'undefined' : _typeof(type)) === 'object' || typeof type === 'function') {\n    return createThunkElement(type, key, attributes, children);\n  }\n\n  return {\n    attributes: attributes,\n    children: children,\n    type: type,\n    key: key\n  };\n}\n\n/**\n * Cleans up the array of child elements.\n * - Flattens nested arrays\n * - Converts raw strings and numbers into vnodes\n * - Filters out undefined elements\n */\n\nfunction reduceChildren(children, vnode) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    children.push(createTextElement(vnode));\n  } else if (vnode === null) {\n    children.push(createEmptyElement());\n  } else if (Array.isArray(vnode)) {\n    children = [].concat(_toConsumableArray(children), _toConsumableArray(vnode.reduce(reduceChildren, [])));\n  } else if (typeof vnode === 'undefined') {\n    throw new Error('vnode can\\'t be undefined. Did you mean to use null?');\n  } else {\n    children.push(vnode);\n  }\n  return children;\n}\n\n/**\n * Text nodes are stored as objects to keep things simple\n */\n\nfunction createTextElement(text) {\n  return {\n    type: '#text',\n    nodeValue: text\n  };\n}\n\n/**\n * Text nodes are stored as objects to keep things simple\n */\n\nfunction createEmptyElement() {\n  return {\n    type: '#empty'\n  };\n}\n\n/**\n * Lazily-rendered virtual nodes\n */\n\nfunction createThunkElement(component, key, props, children) {\n  return {\n    type: '#thunk',\n    children: children,\n    props: props,\n    component: component,\n    key: key\n  };\n}\n\n/**\n * Is a vnode a thunk?\n */\n\nvar isThunk = exports.isThunk = function isThunk(node) {\n  return node.type === '#thunk';\n};\n\n/**\n * Is a vnode a text node?\n */\n\nvar isText = exports.isText = function isText(node) {\n  return node.type === '#text';\n};\n\n/**\n * Is a vnode an empty placeholder?\n */\n\nvar isEmpty = exports.isEmpty = function isEmpty(node) {\n  return node.type === '#empty';\n};\n\n/**\n * Determine if two virtual nodes are the same type\n */\n\nvar isSameThunk = exports.isSameThunk = function isSameThunk(left, right) {\n  return isThunk(left) && isThunk(right) && left.component === right.component;\n};\n\n/**\n * Group an array of virtual elements by their key, using index as a fallback.\n */\n\nvar groupByKey = exports.groupByKey = function groupByKey(children) {\n  return children.reduce(function (acc, child, i) {\n    if (child != null && child !== false) {\n      acc.push({\n        key: String(child.key || i),\n        item: child,\n        index: i\n      });\n    }\n    return acc;\n  }, []);\n};\n\n/**\n * Check if an attribute should be rendered into the DOM.\n */\n\nfunction isValidAttribute(value) {\n  if (typeof value === 'boolean') return value;\n  if (typeof value === 'function') return false;\n  if (value === '') return true;\n  if (value === undefined) return false;\n  if (value === null) return false;\n  return true;\n}\n\n/**\n * Create a node path, eg. (23,5,2,4) => '23.5.2.4'\n */\n\nvar createPath = exports.createPath = function createPath() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args.join('.');\n};\n},{}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.h = exports.dom = exports.diff = exports.vnode = exports.string = exports.element = exports.createApp = undefined;\n\nvar _diff = require('./diff');\n\nvar diff = _interopRequireWildcard(_diff);\n\nvar _element = require('./element');\n\nvar vnode = _interopRequireWildcard(_element);\n\nvar _string = require('./string');\n\nvar string = _interopRequireWildcard(_string);\n\nvar _dom = require('./dom');\n\nvar dom = _interopRequireWildcard(_dom);\n\nvar _app = require('./app');\n\nvar app = _interopRequireWildcard(_app);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar element = vnode.create;\nvar h = vnode.create;\nvar createApp = app.create;\n\nexports.createApp = createApp;\nexports.element = element;\nexports.string = string;\nexports.vnode = vnode;\nexports.diff = diff;\nexports.dom = dom;\nexports.h = h;\n},{\"./app\":3,\"./diff\":4,\"./dom\":7,\"./element\":11,\"./string\":13}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.render = undefined;\n\nvar _renderString = require('./renderString');\n\nvar render = _renderString.renderString;\n\nexports.render = render;\n},{\"./renderString\":14}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderString = renderString;\n\nvar _element = require('../element');\n\n/**\n * Turn an object of key/value pairs into a HTML attribute string. This\n * function is responsible for what attributes are allowed to be rendered and\n * should handle any other special cases specific to deku.\n */\n\nfunction attributesToString(attributes) {\n  var str = '';\n  for (var name in attributes) {\n    var value = attributes[name];\n    if (name === 'innerHTML') continue;\n    if ((0, _element.isValidAttribute)(value)) str += ' ' + name + '=\"' + attributes[name] + '\"';\n  }\n  return str;\n}\n\n/**\n * Render a virtual element to a string. You can pass in an option state context\n * object that will be given to all components.\n */\n\nfunction renderString(element, context) {\n  var path = arguments.length <= 2 || arguments[2] === undefined ? '0' : arguments[2];\n\n  if ((0, _element.isText)(element)) {\n    return element.nodeValue;\n  }\n\n  if ((0, _element.isEmpty)(element)) {\n    return '<noscript></noscript>';\n  }\n\n  if ((0, _element.isThunk)(element)) {\n    var props = element.props;\n    var component = element.component;\n    var _children = element.children;\n    var render = component.render;\n\n    var output = render({\n      children: _children,\n      props: props,\n      path: path,\n      context: context\n    });\n    return renderString(output, context, path);\n  }\n\n  var attributes = element.attributes;\n  var type = element.type;\n  var children = element.children;\n\n  var innerHTML = attributes.innerHTML;\n  var str = '<' + type + attributesToString(attributes) + '>';\n\n  if (innerHTML) {\n    str += innerHTML;\n  } else {\n    str += children.map(function (child, i) {\n      return renderString(child, context, path + '.' + (child.key == null ? i : child.key));\n    }).join('');\n  }\n\n  str += '</' + type + '>';\n  return str;\n}\n},{\"../element\":11}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.REMOVE = exports.MOVE = exports.UPDATE = exports.CREATE = undefined;\n\nvar _bitVector = require('bit-vector');\n\n/**\n * Actions\n */\n\nvar CREATE = 0; /**\n                 * Imports\n                 */\n\nvar UPDATE = 1;\nvar MOVE = 2;\nvar REMOVE = 3;\n\n/**\n * dift\n */\n\nfunction dift(prev, next, effect, key) {\n  var pStartIdx = 0;\n  var nStartIdx = 0;\n  var pEndIdx = prev.length - 1;\n  var nEndIdx = next.length - 1;\n  var pStartItem = prev[pStartIdx];\n  var nStartItem = next[nStartIdx];\n\n  // List head is the same\n  while (pStartIdx <= pEndIdx && nStartIdx <= nEndIdx && equal(pStartItem, nStartItem)) {\n    effect(UPDATE, pStartItem, nStartItem, nStartIdx);\n    pStartItem = prev[++pStartIdx];\n    nStartItem = next[++nStartIdx];\n  }\n\n  // The above case is orders of magnitude more common than the others, so fast-path it\n  if (nStartIdx > nEndIdx && pStartIdx > pEndIdx) {\n    return;\n  }\n\n  var pEndItem = prev[pEndIdx];\n  var nEndItem = next[nEndIdx];\n  var movedFromFront = 0;\n\n  // Reversed\n  while (pStartIdx <= pEndIdx && nStartIdx <= nEndIdx && equal(pStartItem, nEndItem)) {\n    effect(MOVE, pStartItem, nEndItem, pEndIdx - movedFromFront + 1);\n    pStartItem = prev[++pStartIdx];\n    nEndItem = next[--nEndIdx];\n    ++movedFromFront;\n  }\n\n  // Reversed the other way (in case of e.g. reverse and append)\n  while (pEndIdx >= pStartIdx && nStartIdx <= nEndIdx && equal(nStartItem, pEndItem)) {\n    effect(MOVE, pEndItem, nStartItem, nStartIdx);\n    pEndItem = prev[--pEndIdx];\n    nStartItem = next[++nStartIdx];\n    --movedFromFront;\n  }\n\n  // List tail is the same\n  while (pEndIdx >= pStartIdx && nEndIdx >= nStartIdx && equal(pEndItem, nEndItem)) {\n    effect(UPDATE, pEndItem, nEndItem, nEndIdx);\n    pEndItem = prev[--pEndIdx];\n    nEndItem = next[--nEndIdx];\n  }\n\n  if (pStartIdx > pEndIdx) {\n    while (nStartIdx <= nEndIdx) {\n      effect(CREATE, null, nStartItem, nStartIdx);\n      nStartItem = next[++nStartIdx];\n    }\n\n    return;\n  }\n\n  if (nStartIdx > nEndIdx) {\n    while (pStartIdx <= pEndIdx) {\n      effect(REMOVE, pStartItem);\n      pStartItem = prev[++pStartIdx];\n    }\n\n    return;\n  }\n\n  var created = 0;\n  var pivotDest = null;\n  var pivotIdx = pStartIdx - movedFromFront;\n  var keepBase = pStartIdx;\n  var keep = (0, _bitVector.createBv)(pEndIdx - pStartIdx);\n\n  var prevMap = keyMap(prev, pStartIdx, pEndIdx + 1, key);\n\n  for (; nStartIdx <= nEndIdx; nStartItem = next[++nStartIdx]) {\n    var oldIdx = prevMap[key(nStartItem)];\n\n    if (isUndefined(oldIdx)) {\n      effect(CREATE, null, nStartItem, pivotIdx++);\n      ++created;\n    } else if (pStartIdx !== oldIdx) {\n      (0, _bitVector.setBit)(keep, oldIdx - keepBase);\n      effect(MOVE, prev[oldIdx], nStartItem, pivotIdx++);\n    } else {\n      pivotDest = nStartIdx;\n    }\n  }\n\n  if (pivotDest !== null) {\n    (0, _bitVector.setBit)(keep, 0);\n    effect(MOVE, prev[pStartIdx], next[pivotDest], pivotDest);\n  }\n\n  // If there are no creations, then you have to\n  // remove exactly max(prevLen - nextLen, 0) elements in this\n  // diff. You have to remove one more for each element\n  // that was created. This means once we have\n  // removed that many, we can stop.\n  var necessaryRemovals = prev.length - next.length + created;\n  for (var removals = 0; removals < necessaryRemovals; pStartItem = prev[++pStartIdx]) {\n    if (!(0, _bitVector.getBit)(keep, pStartIdx - keepBase)) {\n      effect(REMOVE, pStartItem);\n      ++removals;\n    }\n  }\n\n  function equal(a, b) {\n    return key(a) === key(b);\n  }\n}\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction keyMap(items, start, end, key) {\n  var map = {};\n\n  for (var i = start; i < end; ++i) {\n    map[key(items[i])] = i;\n  }\n\n  return map;\n}\n\n/**\n * Exports\n */\n\nexports.default = dift;\nexports.CREATE = CREATE;\nexports.UPDATE = UPDATE;\nexports.MOVE = MOVE;\nexports.REMOVE = REMOVE;\n},{\"bit-vector\":2}],16:[function(require,module,exports){\n/*!\n * index-of <https://github.com/jonschlinkert/index-of>\n *\n * Copyright (c) 2014-2015 Jon Schlinkert.\n * Licensed under the MIT license.\n */\n\n'use strict';\n\nmodule.exports = function indexOf(arr, ele, start) {\n  start = start || 0;\n  var idx = -1;\n\n  if (arr == null) return idx;\n  var len = arr.length;\n  var i = start < 0\n    ? (len + start)\n    : start;\n\n  if (i >= arr.length) {\n    return -1;\n  }\n\n  while (i < len) {\n    if (arr[i] === ele) {\n      return i;\n    }\n    i++;\n  }\n\n  return -1;\n};\n\n},{}],17:[function(require,module,exports){\n/**\n * Supported SVG elements\n *\n * @type {Array}\n */\n\nexports.elements = {\n  'animate': true,\n  'circle': true,\n  'defs': true,\n  'ellipse': true,\n  'g': true,\n  'line': true,\n  'linearGradient': true,\n  'mask': true,\n  'path': true,\n  'pattern': true,\n  'polygon': true,\n  'polyline': true,\n  'radialGradient': true,\n  'rect': true,\n  'stop': true,\n  'svg': true,\n  'text': true,\n  'tspan': true\n}\n\n/**\n * Is element's namespace SVG?\n *\n * @param {String} name\n */\n\nexports.isElement = function (name) {\n  return name in exports.elements\n}\n\n},{}],18:[function(require,module,exports){\nvar supportedTypes = ['text', 'search', 'tel', 'url', 'password'];\n\nmodule.exports = function(element){\n    return !!(element.setSelectionRange && ~supportedTypes.indexOf(element.type));\n};\n\n},{}],19:[function(require,module,exports){\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Wraps a function of any arity (including nullary) in a function that accepts exactly `n`\n * parameters. Unlike `nAry`, which passes only `n` arguments to the wrapped function,\n * functions produced by `arity` will pass all provided arguments to the wrapped function.\n *\n * @func\n * @memberOf R\n * @sig (Number, (* -> *)) -> (* -> *)\n * @category Function\n * @param {Number} n The desired arity of the returned function.\n * @param {Function} fn The function to wrap.\n * @return {Function} A new function wrapping `fn`. The new function is\n *         guaranteed to be of arity `n`.\n * @deprecated since v0.15.0\n * @example\n *\n *      var takesTwoArgs = function(a, b) {\n *        return [a, b];\n *      };\n *      takesTwoArgs.length; //=> 2\n *      takesTwoArgs(1, 2); //=> [1, 2]\n *\n *      var takesOneArg = R.arity(1, takesTwoArgs);\n *      takesOneArg.length; //=> 1\n *      // All arguments are passed through to the wrapped function\n *      takesOneArg(1, 2); //=> [1, 2]\n */\nmodule.exports = _curry2(function(n, fn) {\n  // jshint unused:vars\n  switch (n) {\n    case 0: return function() {return fn.apply(this, arguments);};\n    case 1: return function(a0) {return fn.apply(this, arguments);};\n    case 2: return function(a0, a1) {return fn.apply(this, arguments);};\n    case 3: return function(a0, a1, a2) {return fn.apply(this, arguments);};\n    case 4: return function(a0, a1, a2, a3) {return fn.apply(this, arguments);};\n    case 5: return function(a0, a1, a2, a3, a4) {return fn.apply(this, arguments);};\n    case 6: return function(a0, a1, a2, a3, a4, a5) {return fn.apply(this, arguments);};\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) {return fn.apply(this, arguments);};\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) {return fn.apply(this, arguments);};\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) {return fn.apply(this, arguments);};\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {return fn.apply(this, arguments);};\n    default: throw new Error('First argument to arity must be a non-negative integer no greater than ten');\n  }\n});\n\n},{\"./internal/_curry2\":22}],20:[function(require,module,exports){\nvar _curry2 = require('./internal/_curry2');\nvar _curryN = require('./internal/_curryN');\nvar arity = require('./arity');\n\n\n/**\n * Returns a curried equivalent of the provided function, with the\n * specified arity. The curried function has two unusual capabilities.\n * First, its arguments needn't be provided one at a time. If `g` is\n * `R.curryN(3, f)`, the following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value `R.__` may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is `R.__`,\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var addFourNumbers = function() {\n *        return R.sum([].slice.call(arguments, 0, 4));\n *      };\n *\n *      var curriedAddFourNumbers = R.curryN(4, addFourNumbers);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\nmodule.exports = _curry2(function curryN(length, fn) {\n  return arity(length, _curryN(length, [], fn));\n});\n\n},{\"./arity\":19,\"./internal/_curry2\":22,\"./internal/_curryN\":23}],21:[function(require,module,exports){\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0) {\n      return f1;\n    } else if (a != null && a['@@functional/placeholder'] === true) {\n      return f1;\n    } else {\n      return fn(a);\n    }\n  };\n};\n\n},{}],22:[function(require,module,exports){\nvar _curry1 = require('./_curry1');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    var n = arguments.length;\n    if (n === 0) {\n      return f2;\n    } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 1) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true &&\n                          b != null && b['@@functional/placeholder'] === true) {\n      return f2;\n    } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n      return _curry1(function(a) { return fn(a, b); });\n    } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n      return _curry1(function(b) { return fn(a, b); });\n    } else {\n      return fn(a, b);\n    }\n  };\n};\n\n},{\"./_curry1\":21}],23:[function(require,module,exports){\nvar arity = require('../arity');\n\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @return {array} An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n */\nmodule.exports = function _curryN(length, received, fn) {\n  return function() {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length &&\n          (received[combinedIdx] == null ||\n           received[combinedIdx]['@@functional/placeholder'] !== true ||\n           argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (result == null || result['@@functional/placeholder'] !== true) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : arity(left, _curryN(length, combined, fn));\n  };\n};\n\n},{\"../arity\":19}],24:[function(require,module,exports){\nvar naturalSelection = require('natural-selection');\n\nmodule.exports = function(element, value){\n    var canSet = naturalSelection(element) && element === document.activeElement;\n\n    if (canSet) {\n        var start = element.selectionStart,\n            end = element.selectionEnd;\n\n        element.value = value;\n        element.setSelectionRange(start, end);\n    } else {\n        element.value = value;\n    }\n};\n\n},{\"natural-selection\":18}],25:[function(require,module,exports){\n'use strict';\n\nmodule.exports = module.exports['default'] = SvgAttributeNamespace\n\n/*\n * Supported SVG attribute namespaces by prefix.\n *\n * References:\n * - http://www.w3.org/TR/SVGTiny12/attributeTable.html\n * - http://www.w3.org/TR/SVG/attindex.html\n * - http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-ElSetAttrNS\n */\n\nvar namespaces = module.exports.namespaces = {\n  ev: 'http://www.w3.org/2001/xml-events',\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace',\n  xmlns: 'http://www.w3.org/2000/xmlns/'\n}\n\n/**\n * Get namespace of svg attribute\n *\n * @param {String} attributeName\n * @return {String} namespace\n */\n\nfunction SvgAttributeNamespace (attributeName) {\n  // if no prefix separator in attributeName, then no namespace\n  if (attributeName.indexOf(':') === -1) return null\n\n  // get prefix from attributeName\n  var prefix = attributeName.split(':', 1)[0]\n\n  // if prefix in supported prefixes\n  if (namespaces.hasOwnProperty(prefix)) {\n    // then namespace of prefix\n    return namespaces[prefix]\n  } else {\n    // else unsupported prefix\n    throw new Error('svg-attribute-namespace: prefix \"' + prefix + '\" is not supported by SVG.')\n  }\n}\n\n},{}],26:[function(require,module,exports){\nvar curryN = require('ramda/src/curryN');\n\nfunction isString(s) { return typeof s === 'string'; }\nfunction isNumber(n) { return typeof n === 'number'; }\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\nfunction isFunction(f) { return typeof f === 'function'; }\nvar isArray = Array.isArray || function(a) { return 'length' in a; };\n\nvar mapConstrToFn = curryN(2, function(group, constr) {\n  return constr === String    ? isString\n       : constr === Number    ? isNumber\n       : constr === Object    ? isObject\n       : constr === Array     ? isArray\n       : constr === Function  ? isFunction\n       : constr === undefined ? group\n                              : constr;\n});\n\nfunction Constructor(group, name, validators) {\n  validators = validators.map(mapConstrToFn(group));\n  var constructor = curryN(validators.length, function() {\n    var val = [], v, validator;\n    for (var i = 0; i < arguments.length; ++i) {\n      v = arguments[i];\n      validator = validators[i];\n      if ((typeof validator === 'function' && validator(v)) ||\n          (v !== undefined && v !== null && v.of === validator)) {\n        val[i] = arguments[i];\n      } else {\n        throw new TypeError('wrong value ' + v + ' passed to location ' + i + ' in ' + name);\n      }\n    }\n    val.of = group;\n    val.name = name;\n    return val;\n  });\n  return constructor;\n}\n\nfunction rawCase(type, cases, action, arg) {\n  if (type !== action.of) throw new TypeError('wrong type passed to case');\n  var name = action.name in cases ? action.name\n           : '_' in cases         ? '_'\n                                  : undefined;\n  if (name === undefined) {\n    throw new Error('unhandled value passed to case');\n  } else {\n    return cases[name].apply(undefined, arg !== undefined ? action.concat([arg]) : action);\n  }\n}\n\nvar typeCase = curryN(3, rawCase);\nvar caseOn = curryN(4, rawCase);\n\nfunction Type(desc) {\n  var obj = {};\n  for (var key in desc) {\n    obj[key] = Constructor(obj, key, desc[key]);\n  }\n  obj.case = typeCase(obj);\n  obj.caseOn = caseOn(obj);\n  return obj;\n}\n\nmodule.exports = Type;\n\n},{\"ramda/src/curryN\":20}]},{},[1]);\n"]}