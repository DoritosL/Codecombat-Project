{"version":3,"sources":["app/lib/SolutionConceptTagger.coffee"],"names":[],"mappings":";AAAA;;AAAA,WAAW,QAAQ,kBAAR;;AAEX,MAAM,CAAC,OAAP,GAAiB,cAAc,SAAC,QAAD;AAC7B;EAAA,OAAO,QAAQ,CAAC;EAChB,SAAa,SAAK,CAAC,MAAN;EACb,MAAM,CAAC,IAAP,CAAY,IAAZ;EACA,MAAM,MAAM,CAAC,SAAS,CAAC;EACvB,SAAS;AACT;IACE,MAAM,QAAS,KAAI,CAAC;IACpB,KAAgB,GAAhB;AAAA;;IACA,IAAG,OAAO,GAAP,KAAc,UAAjB;MACE,IAAqC,IAAI,GAAJ,CAArC;QAAA,MAAM,CAAC,IAAP,CAAY,QAAS,KAAI,CAAC,OAA1B;OADF;KAAA;MAGE,IAAqC,GAAG,CAAC,IAAJ,CAAS,GAAT,CAAa,CAAC,MAAd,GAAuB,CAA5D;QAAA,MAAM,CAAC,IAAP,CAAY,QAAS,KAAI,CAAC,OAA1B;OAHF;;AAHF;EAQA,OAAO,CAAC,GAAR,CAAY,MAAZ;SACA;AAf6B","file":"public/javascripts/app/lib/SolutionConceptTagger.js","sourcesContent":["concepts = require 'schemas/concepts'\n\nmodule.exports = TagSolution = (solution) ->\n  code = solution.source\n  engine = new esper.Engine()\n  engine.load(code)\n  ast = engine.evaluator.ast\n  result = []\n  for key of concepts\n    tkn = concepts[key].tagger\n    continue unless tkn\n    if typeof tkn is 'function'\n      result.push concepts[key].concept if tkn(ast)\n    else\n      result.push concepts[key].concept if ast.find(tkn).length > 0\n   \n  console.log result\n  result\n"]}