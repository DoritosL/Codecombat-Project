{"version":3,"sources":["app/lib/scripts/SoundScriptModule.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,eAAe,QAAQ,gBAAR;;AAEf,eAAe;;AACf,aAAa;;AAEZ,KAAM,QAAQ,WAAR,EAAN;;AAED,MAAM,CAAC,OAAP,GAAuB;;;;;;;EACrB,iBAAC,UAAD,GAAY,SAAC,SAAD;AACV,WAAO;EADG;;8BAGZ,aAAY;AACV;IAAA,QAAQ;IACR,IAAiD,oDAAjD;MAAA,KAAK,CAAC,IAAN,CAAW,IAAC,+BAAD,EAAX;;IACA,IAA+B,kCAA/B;MAAA,KAAK,CAAC,IAAN,CAAW,IAAC,aAAD,EAAX;;AACA,WAAO;EAJG;;8BAMZ,WAAU;AACR,WAAO;EADC;;8BAGV,YAAW;AACT,WAAO,IAAC,WAAD;EADE;;8BAGX,iCAAgC;AAC9B;IAAA,OACE;MAAA,SAAS,iCAAT;MACA,OAAO;QAAC,UAAU,IAAC,UAAS,CAAC,KAAK,CAAC,uBAA5B;OADP;;AAEF,WAAO;EAJuB;;8BAMhC,eAAc;AACZ;IAAA,OACE;MAAA,SAAS,yBAAT;MACA,OAAO,IAAC,UAAS,CAAC,KAAK,CAAC,KADxB;;AAEF,WAAO;EAJK;;;;GAtBiC","file":"public/javascripts/app/lib/scripts/SoundScriptModule.js","sourcesContent":["ScriptModule = require './ScriptModule'\n\ncurrentMusic = null\nstandingBy = null\n\n{me} = require('core/auth')\n\nmodule.exports = class SoundScriptModule extends ScriptModule\n  @neededFor: (noteGroup) ->\n    return noteGroup.sound?\n\n  startNotes: ->\n    notes = []\n    notes.push(@addSuppressSelectionSoundsNote()) if @noteGroup.sound.suppressSelectionSounds?\n    notes.push(@addMusicNote()) if @noteGroup.sound.music?\n    return notes\n\n  endNotes: ->\n    return []\n\n  skipNotes: ->\n    return @startNotes()\n\n  addSuppressSelectionSoundsNote: ->\n    note =\n      channel: 'level:suppress-selection-sounds'\n      event: {suppress: @noteGroup.sound.suppressSelectionSounds}\n    return note\n\n  addMusicNote: ->\n    note =\n      channel: 'music-player:play-music'\n      event: @noteGroup.sound.music\n    return note\n"]}