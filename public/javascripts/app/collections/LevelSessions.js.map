{"version":3,"sources":["app/collections/LevelSessions.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,iBAAiB,QAAQ,4BAAR;;AACjB,eAAe,QAAQ,qBAAR;;AAEf,MAAM,CAAC,OAAP,GAAuB;;;;;;;mCACrB,MAAK;;mCACL,QAAO;;mCAEP,yBAAwB,SAAC,gBAAD,EAAmB,OAAnB;IACtB,UAAU,CAAC,CAAC,MAAF,CAAS;MACjB,KAAK,yBAAuB,gBAAvB,GAAwC,2BAD5B;KAAT,EAEP,OAFO;WAGV,IAAC,MAAD,CAAO,OAAP;EAJsB;;mCAMxB,2BAA0B,SAAC,WAAD,EAAc,OAAd;IAExB,UAAU,CAAC,CAAC,MAAF,CAAS;MACjB,KAAK,mBAAiB,WAAjB,GAA6B,kBADjB;KAAT,EAEP,OAFO;WAGV,IAAC,MAAD,CAAO,OAAP;EALwB;;mCAO1B,8BAA6B,SAAC,SAAD,EAAY,OAAZ;AAC3B;;MADuC,UAAQ;;IAC/C,QAAQ;IACR,OAAO;IACP,OAAO,CAAC,CAAC,IAAF,CAAO,SAAS,CAAC,GAAV,CAAc,SAAd,CAAP;;MACP,OAAO,CAAC,OAAQ;;IAChB,OAAO,CAAC,IAAI,CAAC,WAAb,GAA2B;IAC3B,OAAO,CAAC,MAAR,GAAiB;IACjB,SAAS;AACT,WAAM,OAAO,IAAb;MACE,UAAU,CAAC,CAAC,SAAF,CAAY,OAAZ;MACV,OAAO,CAAC,IAAI,CAAC,UAAb,GAA0B;MAC1B,MAAM,CAAC,IAAP,CAAY,IAAC,yBAAD,CAA0B,SAAS,CAAC,EAApC,EAAwC,OAAxC,CAAZ;MACA,QAAQ;IAJV;AAKA,WAAO;EAboB;;mCAe7B,sBAAqB,SAAC,OAAD;;MAAC,UAAQ;;IAE5B,UAAU,CAAC,CAAC,MAAF,CAAS;MACjB,KAAK,4BADY;KAAT,EAEP,OAFO;WAGV,IAAC,MAAD,CAAO,OAAP;EALmB;;;;GAhC+B","file":"public/javascripts/app/collections/LevelSessions.js","sourcesContent":["CocoCollection = require 'collections/CocoCollection'\nLevelSession = require 'models/LevelSession'\n\nmodule.exports = class LevelSessionCollection extends CocoCollection\n  url: '/db/level.session'\n  model: LevelSession\n\n  fetchForCourseInstance: (courseInstanceID, options) ->\n    options = _.extend({\n      url: \"/db/course_instance/#{courseInstanceID}/my-course-level-sessions\"\n    }, options)\n    @fetch(options)\n\n  fetchForClassroomMembers: (classroomID, options) ->\n    # Params: memberSkip, memberLimit\n    options = _.extend({\n      url: \"/db/classroom/#{classroomID}/member-sessions\"\n    }, options)\n    @fetch(options)\n\n  fetchForAllClassroomMembers: (classroom, options={}) ->\n    limit = 10\n    skip = 0\n    size = _.size(classroom.get('members'))\n    options.data ?= {}\n    options.data.memberLimit = limit\n    options.remove = false\n    jqxhrs = []\n    while skip < size\n      options = _.cloneDeep(options)\n      options.data.memberSkip = skip\n      jqxhrs.push(@fetchForClassroomMembers(classroom.id, options))\n      skip += limit\n    return jqxhrs\n\n  fetchRecentSessions: (options={}) ->\n    # Params: slug, limit, codeLanguage\n    options = _.extend({\n      url: \"/db/level.session/-/recent\"\n    }, options)\n    @fetch(options)\n"]}