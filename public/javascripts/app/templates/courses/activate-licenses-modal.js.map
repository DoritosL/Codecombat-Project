{"version":3,"sources":["app/templates/courses/activate-licenses-modal.jade"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9GA;AAAA","file":"public/javascripts/app/templates/courses/activate-licenses-modal.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,state = locals_.state,paid = locals_.paid;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<div class=\\\"clearfix\\\"></div><div class=\\\"text-center\\\"><h1 data-i18n=\\\"teacher.apply_licenses\\\"></h1><h2 data-i18n=\\\"courses.grants_lifetime_access\\\"></h2></div></div><div class=\\\"modal-body\\\">\");\nvar numToEnroll = state.get('visibleSelectedUsers').length\nvar unusedEnrollments = view.prepaids.totalMaxRedeemers() - view.prepaids.totalRedeemers()\nvar tooManySelected = numToEnroll > unusedEnrollments\nvar noneSelected = numToEnroll == 0\nif ( view.classrooms.length > 1)\n{\nbuf.push(\"<div class=\\\"row\\\"><div class=\\\"col-sm-10 col-sm-offset-1\\\"><div class=\\\"text-center m-b-3\\\"><div class=\\\"small color-navy\\\"><span data-i18n=\\\"teacher.show_students_from\\\"></span><span class=\\\"spr\\\">:</span></div><select class=\\\"classroom-select\\\">\");\n// iterate view.classrooms.models\n;(function(){\n  var $$obj = view.classrooms.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var classroom = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'selected':((view.classroom ? classroom.id === view.classroom.id : false)), 'value':(classroom.id) }, {\"selected\":true,\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var classroom = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attrs({ 'selected':((view.classroom ? classroom.id === view.classroom.id : false)), 'value':(classroom.id) }, {\"selected\":true,\"value\":true})) + \">\" + (jade.escape(null == (jade.interp = classroom.get('name')) ? \"\" : jade.interp)) + \"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<option\" + (jade.attrs({ 'selected':((!view.classroom)), 'value':(''), 'data-i18n':('teacher.all_students') }, {\"selected\":true,\"value\":true,\"data-i18n\":true})) + \"></option></select></div></div></div>\");\n}\nbuf.push(\"<form class=\\\"form m-t-3\\\"><span data-i18n=\\\"teacher.apply_licenses_to_the_following_students\\\"></span><span>:</span><div class=\\\"well form-group\\\">\");\nvar enrolledUsers = view.users.filter(function(user){ return user.isEnrolled() })\nvar unenrolledUsers = view.users.filter(function(user){ return !user.isEnrolled() })\n// iterate unenrolledUsers\n;(function(){\n  var $$obj = unenrolledUsers;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(false), 'checked':(selected), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(false), 'checked':(selected), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  }\n}).call(this);\n\nif ( enrolledUsers.length > 0)\n{\nbuf.push(\"<div class=\\\"small-details m-t-3\\\"><span data-i18n=\\\"teacher.students_have_licenses\\\"></span></div>\");\n}\n// iterate enrolledUsers\n;(function(){\n  var $$obj = enrolledUsers;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(true), 'checked':(true), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var user = $$obj[$index];\n\nvar selected = Boolean(paid || state.get('selectedUsers').get(user.id))\nbuf.push(\"<div class=\\\"checkbox\\\"><label><input\" + (jade.attrs({ 'type':(\"checkbox\"), 'disabled':(true), 'checked':(true), 'data-user-id':(user.id), 'name':('user'), \"class\": [('user-checkbox')] }, {\"type\":true,\"disabled\":true,\"checked\":true,\"data-user-id\":true,\"name\":true})) + \"/><span class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = user.broadName()) ? \"\" : jade.interp)) + \"</span></label></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\nif ( state.get('error'))\n{\nbuf.push(\"<div class=\\\"alert alert-danger\\\">\" + (jade.escape(null == (jade.interp = state.get('error')) ? \"\" : jade.interp)) + \"</div>\");\n}\nbuf.push(\"<div id=\\\"submit-form-area\\\" class=\\\"text-center\\\"><p\" + (jade.attrs({ \"class\": [('small-details'),('not-enough-enrollments'),((tooManySelected ? 'visible' : ''))] }, {\"class\":true})) + \"><span data-i18n=\\\"teacher.not_enough_enrollments\\\"></span></p><p class=\\\"small-details\\\"><span data-i18n=\\\"courses.enrollment_credits_available\\\" class=\\\"spr\\\"></span><span id=\\\"total-available\\\">\" + (jade.escape(null == (jade.interp = view.prepaids.totalAvailable()) ? \"\" : jade.interp)) + \"</span></p><p><button\" + (jade.attrs({ 'id':('activate-licenses-btn'), 'type':(\"submit\"), \"class\": [('btn'),('btn-lg'),('btn-primary'),((tooManySelected || noneSelected ? 'disabled' : ''))] }, {\"class\":true,\"type\":true})) + \"><span data-i18n=\\\"teacher.apply_licenses\\\"></span> (<span id=\\\"total-selected-span\\\">\" + (jade.escape(null == (jade.interp = numToEnroll) ? \"\" : jade.interp)) + \"</span>)</button></p><p><a id=\\\"get-more-licenses-btn\\\" href=\\\"/teachers/licenses\\\" data-i18n=\\\"courses.get_enrollments\\\" class=\\\"btn btn-lg btn-primary-alt\\\"></a></p></div></form></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}