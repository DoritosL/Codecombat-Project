{"version":3,"sources":["app/templates/play/ladder/ladder-tab-view.jade"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArQA;AAAA","file":"public/javascripts/app/templates/play/ladder/ladder-tab-view.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,me = locals_.me,_ = locals_._,moment = locals_.moment,onFacebook = locals_.onFacebook,onGPlus = locals_.onGPlus;var league = view.options.league\nbuf.push(\"<div class=\\\"row\\\">\");\n// iterate view.teams\n;(function(){\n  var $$obj = view.teams;\n  if ('number' == typeof $$obj.length) {\n\n    for (var teamIndex = 0, $$l = $$obj.length; teamIndex < $$l; teamIndex++) {\n      var team = $$obj[teamIndex];\n\nbuf.push(\"<div class=\\\"column col-md-6\\\"><div\" + (jade.attrs({ 'id':(\"histogram-display-\" + (team.name) + \"\"), 'data-team-name':(team.name), \"class\": [(\"histogram-display\")] }, {\"id\":true,\"class\":true,\"data-team-name\":true})) + \"></div><table\" + (jade.attrs({ 'data-team':(team.id), \"class\": [('table'),('table-bordered'),('table-condensed'),('table-hover'),('ladder-table')] }, {\"data-team\":true})) + \">\");\nvar levelType = view.level.get('type', true)\nvar topSessions = team.leaderboard.topPlayers.models;\nvar showJustTop = team.leaderboard.inTopSessions() || me.get('anonymous');\nif(!showJustTop && topSessions.length == 20) topSessions = topSessions.slice(0, 10);\nbuf.push(\"<thead><tr><th\" + (jade.attrs({ 'colspan':(levelType == 'hero-ladder' ? 3 : 2) }, {\"colspan\":true})) + \"></th><th\" + (jade.attrs({ 'colspan':(4), 'style':(\"color: \" + (team.primaryColor) + \"\") }, {\"colspan\":true,\"style\":true})) + \"><span>\" + (jade.escape(null == (jade.interp = team.displayName) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"ladder.leaderboard\\\" class=\\\"spl\\\">Leaderboard</span></th></tr><tr><th\" + (jade.attrs({ 'colspan':(levelType == 'hero-ladder' ? 3 : 2) }, {\"colspan\":true})) + \"></th><th data-i18n=\\\"general.score\\\">Score</th><th data-i18n=\\\"general.name\\\" class=\\\"name-col-cell\\\">Name</th><th data-i18n=\\\"general.when\\\">When</th><th></th><th class=\\\"iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></th></tr></thead><tbody>         \");\n// iterate topSessions\n;(function(){\n  var $$obj = topSessions;\n  if ('number' == typeof $$obj.length) {\n\n    for (var rank = 0, $$l = $$obj.length; rank < $$l; rank++) {\n      var session = $$obj[rank];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues') || [], {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), 'title':(view.capitalize(session.get('submittedCodeLanguage'))), \"class\": [('code-language-cell')] }, {\"style\":true,\"title\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = rank + 1) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var rank in $$obj) {\n      $$l++;      var session = $$obj[rank];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues') || [], {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), 'title':(view.capitalize(session.get('submittedCodeLanguage'))), \"class\": [('code-language-cell')] }, {\"style\":true,\"title\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = rank + 1) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  }\n}).call(this);\n\nif ( !showJustTop && team.leaderboard.nearbySessions().length)\n{\nbuf.push(\"<tr class=\\\"active\\\"><td colspan=\\\"4\\\" class=\\\"ellipsis-row\\\">...</td></tr>\");\n// iterate team.leaderboard.nearbySessions()\n;(function(){\n  var $$obj = team.leaderboard.nearbySessions();\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var session = $$obj[$index];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues'), {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), \"class\": [('code-language-cell')] }, {\"style\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = session.rank) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var session = $$obj[$index];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues'), {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), \"class\": [('code-language-cell')] }, {\"style\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = session.rank) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</tbody></table>\");\nif ( teamIndex == 1)\n{\nbuf.push(\"<div data-i18n=\\\"editor.more\\\" class=\\\"btn btn-sm load-more-ladder-entries\\\">More</div>\");\n}\nbuf.push(\"</div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var teamIndex in $$obj) {\n      $$l++;      var team = $$obj[teamIndex];\n\nbuf.push(\"<div class=\\\"column col-md-6\\\"><div\" + (jade.attrs({ 'id':(\"histogram-display-\" + (team.name) + \"\"), 'data-team-name':(team.name), \"class\": [(\"histogram-display\")] }, {\"id\":true,\"class\":true,\"data-team-name\":true})) + \"></div><table\" + (jade.attrs({ 'data-team':(team.id), \"class\": [('table'),('table-bordered'),('table-condensed'),('table-hover'),('ladder-table')] }, {\"data-team\":true})) + \">\");\nvar levelType = view.level.get('type', true)\nvar topSessions = team.leaderboard.topPlayers.models;\nvar showJustTop = team.leaderboard.inTopSessions() || me.get('anonymous');\nif(!showJustTop && topSessions.length == 20) topSessions = topSessions.slice(0, 10);\nbuf.push(\"<thead><tr><th\" + (jade.attrs({ 'colspan':(levelType == 'hero-ladder' ? 3 : 2) }, {\"colspan\":true})) + \"></th><th\" + (jade.attrs({ 'colspan':(4), 'style':(\"color: \" + (team.primaryColor) + \"\") }, {\"colspan\":true,\"style\":true})) + \"><span>\" + (jade.escape(null == (jade.interp = team.displayName) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"ladder.leaderboard\\\" class=\\\"spl\\\">Leaderboard</span></th></tr><tr><th\" + (jade.attrs({ 'colspan':(levelType == 'hero-ladder' ? 3 : 2) }, {\"colspan\":true})) + \"></th><th data-i18n=\\\"general.score\\\">Score</th><th data-i18n=\\\"general.name\\\" class=\\\"name-col-cell\\\">Name</th><th data-i18n=\\\"general.when\\\">When</th><th></th><th class=\\\"iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></th></tr></thead><tbody>         \");\n// iterate topSessions\n;(function(){\n  var $$obj = topSessions;\n  if ('number' == typeof $$obj.length) {\n\n    for (var rank = 0, $$l = $$obj.length; rank < $$l; rank++) {\n      var session = $$obj[rank];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues') || [], {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), 'title':(view.capitalize(session.get('submittedCodeLanguage'))), \"class\": [('code-language-cell')] }, {\"style\":true,\"title\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = rank + 1) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var rank in $$obj) {\n      $$l++;      var session = $$obj[rank];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues') || [], {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), 'title':(view.capitalize(session.get('submittedCodeLanguage'))), \"class\": [('code-language-cell')] }, {\"style\":true,\"title\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = rank + 1) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  }\n}).call(this);\n\nif ( !showJustTop && team.leaderboard.nearbySessions().length)\n{\nbuf.push(\"<tr class=\\\"active\\\"><td colspan=\\\"4\\\" class=\\\"ellipsis-row\\\">...</td></tr>\");\n// iterate team.leaderboard.nearbySessions()\n;(function(){\n  var $$obj = team.leaderboard.nearbySessions();\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var session = $$obj[$index];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues'), {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), \"class\": [('code-language-cell')] }, {\"style\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = session.rank) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var session = $$obj[$index];\n\nvar myRow = session.get('creator') == me.id\nvar sessionStats = league ? (_.find(session.get('leagues'), {leagueID: league.id}) || {}).stats || {} : session.attributes;\nbuf.push(\"<tr\" + (jade.attrs({ 'data-player-id':(session.get('creator')), 'data-session-id':(session.id), \"class\": [(myRow ? \"success\" : \"\")] }, {\"class\":true,\"data-player-id\":true,\"data-session-id\":true})) + \"><td\" + (jade.attrs({ 'style':(\"background-image: url(/images/common/code_languages/\" + session.get('submittedCodeLanguage') + \"_icon.png)\"), \"class\": [('code-language-cell')] }, {\"style\":true})) + \"></td>\");\nif ( levelType == 'hero-ladder')\n{\nbuf.push(\"<td\" + (jade.attrs({ 'style':(\"background-image: url(/file/db/thang.type/\" + ((session.get('heroConfig') || {}).thangType || '529ffbf1cf1818f2be000001') + \"/portrait.png)\"), \"class\": [('hero-portrait-cell')] }, {\"style\":true})) + \"></td>\");\n}\nbuf.push(\"<td class=\\\"rank-cell\\\">\" + (jade.escape(null == (jade.interp = session.rank) ? \"\" : jade.interp)) + \"</td><td class=\\\"score-cell\\\">\" + (jade.escape(null == (jade.interp = Math.round((sessionStats.totalScore || session.get('totalScore') / 2) * 100)) ? \"\" : jade.interp)) + \"</td><td\" + (jade.attrs({ \"class\": [('name-col-cell' + ((new RegExp('(Simple|Shaman|Brawler|Chieftain|Thoktar) CPU')).test(session.get('creatorName')) ? ' ai' : ''))] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = session.get('creatorName') || \"Anonymous\") ? \"\" : jade.interp)) + \"</td><td class=\\\"age-cell\\\">\" + (jade.escape(null == (jade.interp = moment(session.get('submitDate')).fromNow().replace('a few ', '')) ? \"\" : jade.interp)) + \"</td><td class=\\\"fight-cell\\\"><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"?team=\" + (team.otherTeam) + \"&opponent=\" + (session.id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></td><td class=\\\"spectate-cell iconic-cell\\\"><div class=\\\"glyphicon glyphicon-eye-open\\\"></div></td></tr>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</tbody></table>\");\nif ( teamIndex == 1)\n{\nbuf.push(\"<div data-i18n=\\\"editor.more\\\" class=\\\"btn btn-sm load-more-ladder-entries\\\">More</div>\");\n}\nbuf.push(\"</div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<div class=\\\"column col-md-4 secret\\\"><h4 data-i18n=\\\"ladder.friends_playing\\\" class=\\\"friends-header\\\">Friends Playing</h4>\");\nif ( me.get('anonymous'))\n{\nbuf.push(\"<div class=\\\"alert alert-info\\\"><a data-toggle=\\\"coco-modal\\\" data-target=\\\"core/CreateAccountModal\\\" data-i18n=\\\"ladder.log_in_for_friends\\\">Log in to play with your friends!</a></div>\");\n}\nelse\n{\nif ( !onFacebook || !onGPlus)\n{\nbuf.push(\"<div class=\\\"connect-buttons\\\"><span data-i18n=\\\"ladder.social_connect_blurb\\\">Connect and play against your friends!</span><br/>\");\nif ( !onFacebook)\n{\nbuf.push(\"<button data-i18n=\\\"community.facebook\\\" class=\\\"btn btn-sm connect-facebook\\\">Facebook</button>\");\n}\nif ( !onGPlus)\n{\nbuf.push(\"<button data-i18n=\\\"community.gplus\\\" class=\\\"btn btn-sm connect-google-plus\\\">Google+</button>\");\n}\nbuf.push(\"</div>\");\n}\nif ( view.friends)\n{\n// iterate view.friends\n;(function(){\n  var $$obj = view.friends;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var friend = $$obj[$index];\n\nbuf.push(\"<p class=\\\"friend-entry\\\"><img\" + (jade.attrs({ 'src':(friend.imageSource), \"class\": [('img-thumbnail')] }, {\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = friend.creatorName + ' (' + friend.name + ')') ? \"\" : jade.interp)) + \"</span><br/><span>\" + (jade.escape(null == (jade.interp = Math.round(friend.totalScore * 100)) ? \"\" : jade.interp)) + \"</span><span>: </span><span>\" + (jade.escape(null == (jade.interp = friend.team) ? \"\" : jade.interp)) + \"</span><br/><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"/?team=\" + (friend.otherTeam) + \"&opponent=\" + (friend._id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></p>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var friend = $$obj[$index];\n\nbuf.push(\"<p class=\\\"friend-entry\\\"><img\" + (jade.attrs({ 'src':(friend.imageSource), \"class\": [('img-thumbnail')] }, {\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = friend.creatorName + ' (' + friend.name + ')') ? \"\" : jade.interp)) + \"</span><br/><span>\" + (jade.escape(null == (jade.interp = Math.round(friend.totalScore * 100)) ? \"\" : jade.interp)) + \"</span><span>: </span><span>\" + (jade.escape(null == (jade.interp = friend.team) ? \"\" : jade.interp)) + \"</span><br/><a\" + (jade.attrs({ 'href':(\"/play/level/\" + (view.level.get('slug') || view.level.id) + \"/?team=\" + (friend.otherTeam) + \"&opponent=\" + (friend._id) + \"\" + (league ? \"&league=\" + league.id : \"\")) }, {\"href\":true})) + \"><span data-i18n=\\\"ladder.fight\\\">Fight!</span></a></p>\");\n    }\n\n  }\n}).call(this);\n\n}\nelse if ( onFacebook || onGPlus)\n{\nbuf.push(\"<p data-i18n=\\\"ladder.invite_friends_to_battle\\\">Invite your friends to join you in battle!</p>\");\n}\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}