{"version":3,"sources":["app/views/common/UserView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,uBAAR;;AACX,OAAO,QAAQ,aAAR;;AAEP,MAAM,CAAC,OAAP,GAAuB;;;qBACrB,WAAU;;qBACV,YAAW;;qBACX,WAAU;;EAEG,kBAAC,MAAD,EAAU,OAAV;IAAC,IAAC,UAAD;IACZ,0CAAM,OAAN;IACA,IAAC,SAAD,CAAU,IAAV,EAAa,cAAb,EAA6B,IAAC,eAA9B;IACA,IAAC,UAAD,CAAW,IAAC,OAAZ;EAHW;;qBAKb,YAAY;IACV,IAAG,IAAC,KAAD,EAAH;MACE,IAAC,KAAD,GAAQ;MACR,IAAC,SAAD,GAFF;;IAGA,IAAC,KAAD,GAAY,SAAK;MAAA,KAAK,IAAC,OAAN;KAAL;WACZ,IAAC,WAAU,CAAC,SAAZ,CAAsB,IAAC,KAAvB,EAA6B;MAAA,OAAO,KAAP;KAA7B;EALU;;qBAOZ,OAAM;AAAG;kBAAA,IAAC,QAAD,KAAY,EAAE,CAAC,EAAf,YAAmB,EAAE,CAAC,GAAH,CAAO,MAAP;EAAtB;;qBAEN,WAAU;AACR;IAAA,qCAA8B,CAAE,WAAP,YAAzB;MAAA,IAAC,SAAD,GAAY,IAAC,MAAb;;IACA,IAAC,OAAD,GAAU,IAAC,KAAI,CAAC;WAChB;EAHQ;;qBAKV,iBAAgB;IACd,OAAO,CAAC,IAAR,CAAa,gBAAb;WACA,IAAC,OAAD;EAFc;;;;GAxBsB","file":"public/javascripts/app/views/common/UserView.js","sourcesContent":["RootView = require 'views/core/RootView'\ntemplate = require 'templates/common/user'\nUser = require 'models/User'\n\nmodule.exports = class UserView extends RootView\n  template: template\n  className: 'user-view'\n  viewName: null # Used for the breadcrumbs\n\n  constructor: (@userID, options) ->\n    super options\n    @listenTo @, 'userNotFound', @ifUserNotFound\n    @fetchUser @userID\n\n  fetchUser:  ->\n    if @isMe()\n      @user = me\n      @onLoaded()\n    @user = new User _id: @userID\n    @supermodel.loadModel @user, cache: false\n\n  isMe: -> @userID in [me.id, me.get('slug')]\n\n  onLoaded: ->\n    @userData = @user unless @user?.isAnonymous()\n    @userID = @user.id\n    super()\n\n  ifUserNotFound: ->\n    console.warn 'user not found'\n    @render()\n"]}