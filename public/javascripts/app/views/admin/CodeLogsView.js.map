{"version":3,"sources":["app/views/admin/CodeLogsView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,+BAAR;;AACX,oBAAoB,QAAQ,sBAAR;;AACpB,UAAU,QAAQ,gBAAR;;AACV,QAAQ,QAAQ,YAAR;;AAER,mBAAmB,QAAQ,oBAAR;;AAEnB,MAAM,CAAC,OAAP,GAAuB;;;;;;;;yBACrB,WAAU;;yBACV,KAAI;;yBACJ,UAAS;;yBACT,SACE;IAAA,mBAAmB,iBAAnB;IACA,wBAAwB,eADxB;IAEA,2BAA2B,kBAF3B;;;yBAIF,aAAY;IAEV,IAAC,SAAD,GAAgB;IAChB,IAAC,WAAU,CAAC,YAAZ,CAAyB,IAAC,SAAQ,CAAC,WAAV,EAAzB;IACA,IAAC,cAAD,GAAiB,CAAC,CAAC,QAAF,CAAW,IAAC,cAAZ,EAA2B,GAA3B;WACjB,IAAC,iBAAD,GAAoB,CAAC,CAAC,QAAF,CAAW,IAAC,iBAAZ,EAA8B,GAA9B;EALV;;yBAQZ,gBAAe,SAAC,CAAD;AACb;IAAA,SAAS,EAAE,gBAAF,CAAoB,GAAE,CAAC;IAChC,IAAO,WAAU,EAAjB;aACE,OAAO,CAAC,OAAR,CAAgB,IAAC,SAAQ,CAAC,aAAV,CAAwB,MAAxB,CAAhB,CACA,CAAC,IADD,CACM;eAAA,SAAC,CAAD;iBACJ,KAAC,gBAAD,CAAiB,eAAjB;QADI;MAAA,QADN,EADF;KAAA;aAKE,OAAO,CAAC,OAAR,CAAgB,IAAC,SAAQ,CAAC,WAAV,EAAhB,CACA,CAAC,IADD,CACM;eAAA,SAAC,CAAD;iBACJ,KAAC,gBAAD,CAAiB,eAAjB;QADI;MAAA,QADN,EALF;;EAFa;;yBAWf,mBAAkB,SAAC,CAAD;AAChB;IAAA,OAAO,EAAE,mBAAF,CAAuB,GAAE,CAAC;IACjC,IAAO,SAAQ,EAAf;aACE,OAAO,CAAC,OAAR,CAAgB,IAAC,SAAQ,CAAC,WAAV,CAAsB,IAAtB,CAAhB,CACA,CAAC,IADD,CACM;eAAA,SAAC,CAAD;iBACJ,KAAC,gBAAD,CAAiB,eAAjB;QADI;MAAA,QADN,EADF;KAAA;aAKE,OAAO,CAAC,OAAR,CAAgB,IAAC,SAAQ,CAAC,WAAV,EAAhB,CACA,CAAC,IADD,CACM;eAAA,SAAC,CAAD;iBACJ,KAAC,gBAAD,CAAiB,eAAjB;QADI;MAAA,QADN,EALF;;EAFgB;;yBAWlB,kBAAiB,SAAC,CAAD;WACf,IAAC,cAAD,CAAe,IAAC,iBAAD,GAAwB,qBAAiB;MAAA,QAAO,EAAE,CAAC,CAAC,MAAJ,CAAW,CAAC,IAAZ,CAAiB,SAAjB,CAAP;KAAjB,CAAvC;EADe;;yBAGjB,gBAAe;IACb,IAAG,oBAAH;MACE,IAAC,QAAO,CAAC,GAAT,CAAa,MAAb;MACA,IAAC,QAAO,CAAC,MAAT;aACA,IAAC,QAAD,GAAW,KAHb;;EADa;;yBAMf,gBAAe,SAAC,CAAD;WACb,IAAC,cAAD;EADa;;yBAGf,UAAS;IACP,IAAC,cAAD;WACA;EAFO;;;;GAnDiC","file":"public/javascripts/app/views/admin/CodeLogsView.js","sourcesContent":["RootView = require 'views/core/RootView'\ntemplate = require 'templates/admin/codelogs-view'\nCodeLogCollection = require 'collections/CodeLogs'\nCodeLog = require 'models/CodeLog'\nutils = require 'core/utils'\n\nCodePlaybackView = require './CodePlaybackView'\n\nmodule.exports = class CodeLogsView extends RootView\n  template: template\n  id: 'codelogs-view'\n  tooltip: null\n  events:\n    'click .playback': 'onClickPlayback'\n    'input #userid-search': 'onUserIDInput'\n    'input #levelslug-search': 'onLevelSlugInput'\n\n  initialize: ->\n    #@spade = new Spade()\n    @codelogs = new CodeLogCollection()\n    @supermodel.trackRequest(@codelogs.fetchLatest())\n    @onUserIDInput = _.debounce(@onUserIDInput, 300)\n    @onLevelSlugInput = _.debounce(@onLevelSlugInput, 300)\n    #@supermodel.trackRequest(@codelogs.fetch())\n\n  onUserIDInput: (e) ->\n    userID = $('#userid-search')[0].value\n    unless userID is ''\n      Promise.resolve(@codelogs.fetchByUserID(userID))\n      .then (e) => \n        @renderSelectors '#codelogtable'\n    else \n      Promise.resolve(@codelogs.fetchLatest())\n      .then (e) => \n        @renderSelectors '#codelogtable'\n\n  onLevelSlugInput: (e) ->\n    slug = $('#levelslug-search')[0].value\n    unless slug is ''\n      Promise.resolve(@codelogs.fetchBySlug(slug))\n      .then (e) => \n        @renderSelectors '#codelogtable'\n    else\n      Promise.resolve(@codelogs.fetchLatest())\n      .then (e) => \n        @renderSelectors '#codelogtable'\n\n  onClickPlayback: (e) ->\n    @insertSubView @codePlaybackView = new CodePlaybackView rawLog:$(e.target).data('codelog')\n\n  deleteTooltip: ->\n    if @tooltip?\n      @tooltip.off 'blur'\n      @tooltip.remove()\n      @tooltip = null\n\n  onBlurTooltip: (e) =>\n    @deleteTooltip()\n\n  destroy: ->\n    @deleteTooltip()\n    super()\n"]}