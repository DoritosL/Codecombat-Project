{"version":3,"sources":["app/views/LegalView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,iBAAR;;AACX,WAAW,QAAQ,sBAAR;;AAEX,MAAM,CAAC,OAAP,GAAuB;;;;;;;sBACrB,KAAI;;sBACJ,WAAU;;sBAEV,aAAY;IACV,IAAC,SAAD,GAAgB;WAChB,IAAC,WAAU,CAAC,cAAZ,CAA2B,IAAC,SAA5B,EAAsC,UAAtC;EAFU;;sBAIZ,cAAa;AACX;IAAA;IACA,WAAW,IAAC,SAAQ,CAAC,SAAV,CAAoB;MAAC,MAAM,oBAAP;KAApB;IACX,KAAc,QAAd;AAAA;;IACA,OAAO,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,wBAAT;IACP,OAAO,IAAI,CAAC,OAAL,CAAa,WAAb,EAA0B,CAAC,QAAQ,CAAC,GAAT,CAAa,QAAb,IAAyB,GAA1B,CAA8B,CAAC,OAA/B,CAAuC,CAAvC,CAA1B;IACP,OAAO,IAAI,CAAC,OAAL,CAAa,UAAb,EAAyB,QAAQ,CAAC,GAAT,CAAa,MAAb,CAAzB;WACP,IAAC,EAAD,CAAG,mBAAH,CAAuB,CAAC,IAAxB,CAA6B,IAA7B;EAPW;;;;GAR0B","file":"public/javascripts/app/views/LegalView.js","sourcesContent":["RootView = require 'views/core/RootView'\ntemplate = require 'templates/legal'\nProducts = require 'collections/Products'\n\nmodule.exports = class LegalView extends RootView\n  id: 'legal-view'\n  template: template\n\n  initialize: ->\n    @products = new Products()\n    @supermodel.loadCollection(@products, 'products')\n\n  afterRender: ->\n    super()\n    basicSub = @products.findWhere({name: 'basic_subscription'})\n    return unless basicSub\n    text = $.i18n.t('legal.cost_description')\n    text = text.replace('{{price}}', (basicSub.get('amount') / 100).toFixed(2))\n    text = text.replace('{{gems}}', basicSub.get('gems'))\n    @$('#cost-description').text(text)\n"]}