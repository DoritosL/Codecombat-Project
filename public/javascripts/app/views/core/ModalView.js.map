{"version":3,"sources":["app/views/core/ModalView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,YAAR;;AAEX,MAAM,CAAC,OAAP,GAAuB;;;sBACrB,YAAW;;sBACX,cAAa;;sBACb,uBAAsB;;sBACtB,oBAAmB;;sBACnB,QAAO;;sBACP,UAAS;;sBACT,WAAU,QAAQ,2BAAR;;sBAEV,SACE;IAAA,WAAW,aAAX;IACA,gBAAgB,aADhB;IAEA,YAAY,aAFZ;IAGA,qBAAqB,0BAHrB;;;sBAKF,YACE;IAAA,OAAO,MAAP;;;EAEW,mBAAC,OAAD;IACX,uBAA+C,OAAO,CAAE,iBAAT,IAAoB,IAAC,QAApE;MAAA,IAAC,UAAD,GAAa,IAAC,UAAS,CAAC,OAAX,CAAmB,OAAnB,EAA4B,EAA5B,EAAb;;IACA,IAAsC,wDAAtC;MAAA,IAAC,YAAD,GAAe,OAAO,CAAC,YAAvB;;IACA,sBAAkD,OAAO,CAAE,0BAA3D;MAAA,IAAC,kBAAD,GAAqB,OAAO,CAAC,kBAA7B;;IACA,4CAAM,SAAN;;MACA,IAAC,WAAW;;EALD;;sBAOb,gBACE;;sBAEF,cAAa;IACX;IACA,IAAG,QAAQ,CAAC,OAAO,CAAC,QAAjB,KAA6B,WAAhC;MACE,EAAE,IAAC,IAAH,CAAO,CAAC,IAAR,CAAa,qBAAb,CAAmC,CAAC,IAApC,CAAyC;eACvC,EAAE,IAAF,CAAO,CAAC,QAAR,CAAiB,mCAAjB,CAAqD,CAAC,WAAtD,CAAkE,oBAAlE;MADuC,CAAzC,EADF;;IAIA,IAAG,IAAC,kBAAJ;MACE,IAAC,IAAG,CAAC,IAAL,CAAU,eAAV,CAA0B,CAAC,GAA3B,CAA+B;QAAA,OAAU,IAAC,kBAAF,GAAoB,GAA7B;OAA/B,EADF;;IAEA,IAAC,IAAG,CAAC,EAAL,CAAQ,eAAR,EAAyB;aAAA;QACvB,KAAmB,KAAC,OAApB;UAAA,KAAC,SAAD;;eACA,KAAC,OAAD,GAAU;MAFa;IAAA,QAAzB;IAGA,IAAsD,IAAC,MAAvD;aAAA,IAAC,IAAG,CAAC,IAAL,CAAU,qBAAV,CAAgC,CAAC,QAAjC,CAA0C,OAA1C;;EAXW;;sBAab,cAAa;IACX;WAGA,EAAE,QAAQ,CAAC,aAAX,CAAyB,CAAC,IAA1B;EAJW;;sBAMb,cAAa,SAAC,GAAD;IACX,KAAsC,GAAtC;MAAA,MAAM,IAAC,IAAG,CAAC,IAAL,CAAU,aAAV,EAAN;;WACA,2CAAM,GAAN;EAFW;;sBAQb,OAAM;IACJ,IAAC,QAAD,CAAS,MAAT;IACA,KAA6C,IAAC,UAA9C;aAAA,IAAC,IAAG,CAAC,WAAL,CAAiB,MAAjB,CAAwB,CAAC,KAAzB,CAA+B,MAA/B;;EAFI;;sBAIN,WAAU;WACR,IAAC,QAAD,CAAS,QAAT;EADQ;;sBAGV,UAAS;IACP,KAAe,IAAC,OAAhB;MAAA,IAAC,KAAD;;IACA,IAAC,IAAG,CAAC,GAAL,CAAS,eAAT;WACA;EAHO;;;;GA9D8B","file":"public/javascripts/app/views/core/ModalView.js","sourcesContent":["CocoView = require './CocoView'\n\nmodule.exports = class ModalView extends CocoView\n  className: 'modal fade'\n  closeButton: true\n  closesOnClickOutside: true\n  modalWidthPercent: null\n  plain: false\n  instant: false\n  template: require 'templates/core/modal-base'\n\n  events:\n    'click a': 'toggleModal'\n    'click button': 'toggleModal'\n    'click li': 'toggleModal'\n    'click [data-i18n]': 'onClickTranslatedElement'\n\n  shortcuts:\n    'esc': 'hide'\n\n  constructor: (options) ->\n    @className = @className.replace ' fade', '' if options?.instant or @instant\n    @closeButton = options.closeButton if options?.closeButton?\n    @modalWidthPercent = options.modalWidthPercent if options?.modalWidthPercent\n    super arguments...\n    @options ?= {}\n\n  subscriptions:\n    {}\n\n  afterRender: ->\n    super()\n    if Backbone.history.fragment is \"employers\"\n      $(@$el).find(\".background-wrapper\").each ->\n        $(this).addClass(\"employer-modal-background-wrapper\").removeClass(\"background-wrapper\")\n\n    if @modalWidthPercent\n      @$el.find('.modal-dialog').css width: \"#{@modalWidthPercent}%\"\n    @$el.on 'hide.bs.modal', =>\n      @onHidden() unless @hidden\n      @hidden = true\n    @$el.find('.background-wrapper').addClass('plain') if @plain\n\n  afterInsert: ->\n    super()\n    # This makes sure if you press enter right after opening the players guide,\n    # it doesn't just reopen the modal.\n    $(document.activeElement).blur()\n\n  showLoading: ($el) ->\n    $el = @$el.find('.modal-body') unless $el\n    super($el)\n\n  # TODO: Combine hide/onHidden such that backbone 'hide/hidden.bs.modal' events and our 'hide/hidden' events are more 1-to-1\n  # For example:\n  #   pressing 'esc' or using `currentModal.hide()` triggers 'hide', 'hide.bs.modal', 'hidden', 'hidden.bs.modal'\n  #   clicking outside the modal triggers 'hide.bs.modal', 'hidden', 'hidden.bs.modal' (but not 'hide')\n  hide: ->\n    @trigger 'hide'\n    @$el.removeClass('fade').modal 'hide' unless @destroyed\n\n  onHidden: ->\n    @trigger 'hidden'\n\n  destroy: ->\n    @hide() unless @hidden\n    @$el.off 'hide.bs.modal'\n    super()\n"]}