{"version":3,"sources":["app/templates/home-view.jade","app/views/HomeView.coffee"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"public/javascripts/app/views/HomeView.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),me = locals_.me,view = locals_.view,serverConfig = locals_.serverConfig,i18n = locals_.i18n;var box_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<div class=\\\"well text-center\\\">\");\nif ( me.isAnonymous() == true)\n{\nbuf.push(\"<h6 id=\\\"classroom-edition-header\\\" data-i18n=\\\"new_home.classroom_edition\\\"></h6><div><a data-event-action=\\\"Homepage Click Teacher Button CTA\\\" data-i18n=\\\"new_home.im_a_teacher\\\" class=\\\"teacher-btn btn btn-primary btn-lg btn-block\\\"></a></div><div><a href=\\\"/home#create-account-student\\\" data-event-action=\\\"Homepage Click Student Button CTA\\\" data-i18n=\\\"new_home.im_a_student\\\" class=\\\"student-btn btn btn-forest btn-lg btn-block\\\"></a></div><h6 id=\\\"learn-to-code-header\\\" data-i18n=\\\"new_home.learn_to_code\\\"></h6><a\" + (jade.attrs({ 'href':(view.playURL), 'data-event-action':(\"Homepage Play Now CTA\"), 'data-i18n':(\"new_home.play_now\"), \"class\": [('btn'),('btn-gold'),('btn-lg'),('btn-block'),('play-btn')] }, {\"href\":true,\"data-event-action\":true,\"data-i18n\":true})) + \"></a>\");\n}\nelse\n{\nbuf.push(\"<h6 id=\\\"classroom-edition-header\\\" data-i18n=\\\"new_home.logged_in_as\\\"></h6><p class=\\\"small userName\\\">\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</p>\");\nif ( me.isTeacher())\n{\nbuf.push(\"<div><button data-event-action=\\\"Homepage Click My Classes CTA\\\" data-i18n=\\\"new_home.goto_classes\\\" class=\\\"teacher-btn btn btn-forest btn-lg btn-block\\\"></button></div><div><button data-event-action=\\\"Homepage Click My Classes CTA\\\" data-i18n=\\\"teacher.resource_hub\\\" class=\\\"resource-btn btn btn-primary btn-lg btn-block\\\"></button></div><div>\");\nif ( !view.isTeacherWithDemo)\n{\nbuf.push(\"<h6 data-i18n=\\\"new_home.want_coco\\\"></h6><button data-event-action=\\\"Homepage Request Demo CTA\\\" data-i18n=\\\"new_home.request_demo\\\" class=\\\"btn btn-primary btn-lg request-demo\\\"></button>\");\n}\nbuf.push(\"</div>\");\n}\nelse if ( me.isStudent())\n{\nbuf.push(\"<div><a\" + (jade.attrs({ 'href':(view.playURL), 'data-event-action':(\"Homepage Classroom Continue Playing CTA\"), 'data-i18n':(\"courses.continue_playing\"), \"class\": [('btn'),('btn-forest'),('btn-lg'),('btn-block'),('play-btn')] }, {\"href\":true,\"data-event-action\":true,\"data-i18n\":true})) + \"></a></div><div><a\" + (jade.attrs({ 'href':(view.playURL), 'data-event-action':(\"Homepage View Progress CTA\"), 'data-i18n':(\"new_home.go_to_courses\"), \"class\": [('btn'),('btn-primary'),('btn-lg'),('btn-block'),('play-btn')] }, {\"href\":true,\"data-event-action\":true,\"data-i18n\":true})) + \"></a></div>\");\n}\nelse\n{\nbuf.push(\"<div><a\" + (jade.attrs({ 'href':(view.playURL), 'data-event-action':(\"Homepage Campaign Continue Playing CTA\"), 'data-i18n':(\"courses.continue_playing\"), \"class\": [('btn'),('btn-forest'),('btn-lg'),('btn-block'),('play-btn')] }, {\"href\":true,\"data-event-action\":true,\"data-i18n\":true})) + \"></a></div><div><a\" + (jade.attrs({ 'href':(view.playURL), 'data-event-action':(\"Homepage View Profile CTA\"), 'data-i18n':(\"new_home.view_profile\"), \"class\": [('btn'),('btn-primary'),('btn-lg'),('btn-block'),('profile-btn')] }, {\"href\":true,\"data-event-action\":true,\"data-i18n\":true})) + \"></a></div>\");\n}\nbuf.push(\"<p class=\\\"small\\\"><span data-i18n=\\\"courses.not_you\\\"></span><span>&nbsp;</span><a data-i18n=\\\"login.log_out\\\" href=\\\"#\\\" class=\\\"logout-btn\\\"></a></p>\");\n}\nbuf.push(\"</div>\");\nif ( (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl')\n{\nbuf.push(\"<div id=\\\"ideal-tickets-well\\\" class=\\\"well text-center hidden-xs hidden-sm\\\"><h6>Thuis versie:</h6><a href=\\\"http://codecombat.nl/kopen\\\" class=\\\"btn btn-purple btn-lg btn-block\\\">Prepaid codes (iDeal)</a></div>\");\n}\n};\nvar accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li>\");\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/payments\\\" data-i18n=\\\"account.payments\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()) || me.hasSubscription())\n{\nbuf.push(\"<li><a href=\\\"/account/subscription\\\" data-i18n=\\\"account.subscription\\\"></a></li>\");\n}\nif ( me.isAdmin() || !(me.isTeacher() || me.isStudent()))\n{\nbuf.push(\"<li><a href=\\\"/account/prepaid\\\" data-i18n=\\\"account.prepaid_codes\\\"></a></li>\");\n}\nbuf.push(\"<li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\"><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && !me.isStudent() && !me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"</ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav><div id=\\\"site-content-area\\\"><div id=\\\"jumbotron-container-fluid\\\" class=\\\"container-fluid alt-image\\\"><div class=\\\"container\\\"><div style=\\\"height: 160px\\\" class=\\\"row hidden-xs top-spacer\\\"></div><div class=\\\"row hidden-sm hidden-xs\\\"><div class=\\\"col-lg-7 col-md-8\\\"><h1 data-i18n=\\\"new_home.slogan\\\"></h1></div><div class=\\\"col-lg-3 col-lg-offset-2 col-md-4\\\">\");\nbox_mixin();\nbuf.push(\"</div></div><div class=\\\"row hidden-lg hidden-md\\\"><div class=\\\"col-lg-7 col-md-8\\\"><h1 data-i18n=\\\"new_home.slogan\\\"></h1></div><div class=\\\"col\\\"><div style=\\\"margin: auto; max-width: 300px\\\">\");\nbox_mixin();\nbuf.push(\"</div></div></div><div id=\\\"learn-more-row\\\" class=\\\"row\\\"><div class=\\\"col-xs-12 text-center\\\"><a id=\\\"learn-more-link\\\"><h6 data-i18n=\\\"new_home.learn_more\\\"></h6><h2><span class=\\\"glyphicon glyphicon-chevron-down\\\"></span></h2></a></div></div></div></div><div id=\\\"classroom-in-box-container\\\" class=\\\"container\\\"><div id=\\\"classroom-in-box-row\\\" class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><h2 data-i18n=\\\"new_home.classroom_in_a_box\\\" class=\\\"text-navy\\\"></h2></div><div class=\\\"col-sm-6\\\"><p data-i18n=\\\"[html]new_home.codecombat_is\\\"></p><p data-i18n=\\\"[html]new_home.our_courses\\\"></p></div></div><div class=\\\"top-screenshots\\\"><div class=\\\"screenshots\\\"><div class=\\\"hidden-sm hidden-md hidden-lg\\\"><small data-i18n=\\\"new_home.top_screenshots_hint\\\"></small></div><div title=\\\"Click to view full size\\\" class=\\\"screenshot-grid\\\"><a data-toggle=\\\"modal\\\" data-target=\\\"#screenshot-lightbox\\\" data-index=\\\"0\\\" class=\\\"screen-thumbnail\\\"><img src=\\\"/images/pages/about/desert.jpg\\\"/></a></div><div class=\\\"clearfix hidden-xs\\\"><small data-i18n=\\\"new_home.top_screenshots_hint\\\"></small></div></div></div><div id=\\\"feature-spread-row\\\" class=\\\"row text-center\\\"><h3 data-i18n=\\\"new_home.designed_with\\\"></h3><div class=\\\"col-sm-4\\\"><img src=\\\"/images/pages/home/F1_typedcode.png\\\" class=\\\"img-circle\\\"/><h4><span data-i18n=\\\"new_home.real_code\\\"></span><br/><span data-i18n=\\\"new_home.from_the_first_level\\\"></span></h4><p data-i18n=\\\"new_home.getting_students\\\" class=\\\"small\\\"></p></div><div class=\\\"col-sm-4\\\"><img src=\\\"/images/pages/home/F2_teacherguides.png\\\" class=\\\"img-circle\\\"/><h4><span data-i18n=\\\"new_home.educator_resources\\\"></span><br/><span data-i18n=\\\"new_home.course_guides\\\"></span></h4><p data-i18n=\\\"new_home.teaching_computer_science\\\" class=\\\"small\\\"></p></div><div class=\\\"col-sm-4\\\"><img src=\\\"/images/pages/home/F3_accessible.png\\\" class=\\\"img-circle\\\"/><h4><span data-i18n=\\\"new_home.accessible_to\\\"></span><br/><span data-i18n=\\\"new_home.everyone\\\"></span></h4><p data-i18n=\\\"new_home.democratizing\\\" class=\\\"small\\\"></p></div></div><div class=\\\"testimonials-rows\\\"><div class=\\\"testimonials-filler-left\\\"></div><div class=\\\"testimonials-filler-right\\\"></div><div class=\\\"row\\\"><div class=\\\"col-lg-offset-2 col-lg-7 col-sm-8\\\"><blockquote><h3 data-i18n=\\\"new_home.forgot_learning\\\"></h3></blockquote></div><div class=\\\"col-lg-2 col-sm-3 text-center\\\"><img src=\\\"/images/pages/home/timmaki.png\\\" class=\\\"img-circle\\\"/><h6>Tim Maki</h6><div class=\\\"small\\\">Director of Technology, Tilton School</div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-7 col-sm-8 col-sm-push-4 col-lg-push-3\\\"><blockquote><h3 data-i18n=\\\"new_home.wanted_to_do\\\"></h3></blockquote></div><div class=\\\"col-lg-2 col-sm-3 col-lg-offset-1 text-center col-sm-pull-8 col-lg-pull-7\\\"><img src=\\\"/images/pages/home/dylan.png\\\" class=\\\"img-circle\\\"/><h6>Dylan</h6><div class=\\\"small\\\">3rd Grader</div></div></div></div><h3 data-i18n=\\\"new_home.why_games\\\" class=\\\"text-center\\\"></h3><div id=\\\"benefit-row-1\\\" class=\\\"row\\\"><div id=\\\"benefit-graphic-1\\\" class=\\\"col-sm-6 col-sm-offset-1 col-sm-push-6\\\"><h2 data-i18n=\\\"new_home.games_reward\\\"></h2><img src=\\\"/images/pages/home/G1_reward.png\\\"/><div id=\\\"benefit-graphic-1-filler\\\"></div></div><div class=\\\"col-sm-5 col-sm-pull-6\\\"><p data-i18n=\\\"new_home.encourage\\\"></p><p><span data-i18n=\\\"new_home.excel\\\" class=\\\"spr\\\"></span><span>“</span><a href=\\\"http://blog.mindresearch.org/blog/game-based-learning-infographic-strong-math-practices\\\" target=\\\"_blank\\\" data-i18n=\\\"new_home.struggle\\\"></a><span>” -</span><span data-i18n=\\\"new_home.kind_of_struggle\\\" class=\\\"spl spr\\\"></span><a href=\\\"http://www.gamesandlearning.org/2014/06/09/teachers-on-using-games-in-class/\\\" target=\\\"_blank\\\" data-i18n=\\\"new_home.motivating\\\"></a><span>,</span><span data-i18n=\\\"new_home.not_tedious\\\" class=\\\"spl\\\"></span></p></div></div><div id=\\\"benefit-row-2\\\" class=\\\"row\\\"><div id=\\\"benefit-graphic-2\\\" class=\\\"col-sm-6\\\"><h2 data-i18n=\\\"new_home.gaming_is_good\\\"></h2><img src=\\\"/images/pages/home/G2_brains.png\\\"/><div id=\\\"benefit-graphic-2-filler\\\"></div></div><div class=\\\"col-sm-5 col-sm-offset-1\\\"><p><span data-i18n=\\\"new_home.game_based\\\" class=\\\"spr\\\"></span><a href=\\\"http://schoolsweek.co.uk/gaming-is-good-for-childrens-brains-study-suggests/\\\" target=\\\"_blank\\\" data-i18n=\\\"new_home.compared\\\"></a><span data-i18n=\\\"new_home.conventional\\\" class=\\\"spl spr\\\"></span><a href=\\\"http://dev.k-12techdecisions.com/article/game_based_learning_is_where_vygotsky_meets_dweck/P3\\\" target=\\\"_blank\\\" data-i18n=\\\"new_home.perform_at_higher_level\\\"></a><span></span></p><p><span data-i18n=\\\"new_home.feedback\\\"></span></p></div></div><div id=\\\"benefit-row-3\\\" class=\\\"row\\\"><div id=\\\"benefit-graphic-3\\\" class=\\\"col-sm-6 col-sm-offset-1 col-sm-push-6\\\"><h2 data-i18n=\\\"new_home.real_game\\\"></h2><img src=\\\"/images/pages/home/G3_game.png\\\"/><div id=\\\"benefit-graphic-3-filler\\\"></div></div><div class=\\\"col-sm-5 col-sm-pull-6\\\"><p><span data-i18n=\\\"new_home.great_game\\\"></span></p><p><span data-i18n=\\\"new_home.agency\\\"></span></p></div></div><div class=\\\"request-demo-row text-center\\\">\");\nif ( view.isTeacherWithDemo)\n{\nbuf.push(\"<h3 data-i18n=\\\"new_home.get_started_title\\\"></h3>\");\n}\nelse\n{\nbuf.push(\"<h3 data-i18n=\\\"new_home.request_demo_title\\\"></h3>\");\n}\nbuf.push(\"<div class=\\\"teacher-screenshots\\\"><div class=\\\"screenshots\\\"><div class=\\\"hidden-sm hidden-md hidden-lg\\\"><small data-i18n=\\\"new_home.top_screenshots_hint\\\"></small></div><div title=\\\"Click to view full size\\\" class=\\\"screenshot-grid\\\"><a data-toggle=\\\"modal\\\" data-target=\\\"#screenshot-lightbox\\\" data-index=\\\"1\\\" class=\\\"screen-thumbnail\\\"><img src=\\\"/images/pages/about/forest.jpg\\\"/></a><a data-toggle=\\\"modal\\\" data-target=\\\"#screenshot-lightbox\\\" data-index=\\\"2\\\" class=\\\"screen-thumbnail\\\"><img src=\\\"/images/pages/about/dungeon.jpg\\\"/></a><a data-toggle=\\\"modal\\\" data-target=\\\"#screenshot-lightbox\\\" data-index=\\\"3\\\" class=\\\"screen-thumbnail\\\"><img src=\\\"/images/pages/about/glacier.jpg\\\"/></a></div><div class=\\\"clearfix hidden-xs\\\"><small data-i18n=\\\"new_home.top_screenshots_hint\\\"></small></div></div></div>\");\nif ( view.isTeacherWithDemo)\n{\nbuf.push(\"<h4 data-i18n=\\\"new_home.get_started_subtitle\\\"></h4><div><button data-event-action=\\\"Homepage Setup Class\\\" data-i18n=\\\"new_home.setup_a_class\\\" class=\\\"btn btn-primary btn-lg setup-class-btn\\\"></button></div>\");\n}\nelse\n{\nbuf.push(\"<h4 data-i18n=\\\"new_home.request_demo_subtitle\\\"></h4><div><button data-event-action=\\\"Homepage Request Demo\\\" data-i18n=\\\"new_home.request_demo\\\" class=\\\"btn btn-primary btn-lg request-demo\\\"></button></div>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<div class=\\\"have-an-account\\\"><span data-i18n=\\\"new_home.have_an_account\\\" class=\\\"spr\\\"></span><a data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></div>\");\n}\n}\nbuf.push(\"</div><h3 data-i18n=\\\"new_home.computer_science\\\" class=\\\"text-center\\\"></h3><h4 class=\\\"text-center\\\"><span id=\\\"school-level-label\\\" data-i18n=\\\"new_home.show_me_lesson_time\\\"></span><select id=\\\"school-level-dropdown\\\" class=\\\"form-control text-navy\\\"><option value=\\\"elementary\\\" data-i18n=\\\"teachers_quote.elementary_school\\\"></option><option value=\\\"middle\\\" selected=\\\"selected\\\" data-i18n=\\\"teachers_quote.middle_school\\\"></option><option value=\\\"high\\\" data-i18n=\\\"teachers_quote.high_school\\\"></option></select></h4><h5 id=\\\"total-hours-header\\\" class=\\\"text-center\\\"><span data-i18n=\\\"new_home.curriculum\\\" class=\\\"spr\\\"></span><span id=\\\"semester-duration\\\"></span></h5><div id=\\\"courses-row\\\" class=\\\"row\\\">\");\nvar conceptsSeen = {};\n// iterate view.courses.models\n;(function(){\n  var $$obj = view.courses.models;\n  if ('number' == typeof $$obj.length) {\n\n    for (var courseIndex = 0, $$l = $$obj.length; courseIndex < $$l; courseIndex++) {\n      var course = $$obj[courseIndex];\n\nbuf.push(\"<div class=\\\"col-md-3 col-sm-4\\\"><div\" + (jade.attrs({ 'data-course-slug':(course.get('slug')), \"class\": [('media'),('course-details')] }, {\"data-course-slug\":true})) + \">\");\nif ( courseIndex === 0)\n{\nbuf.push(\"<div class=\\\"free-course\\\"><h6 data-i18n=\\\"new_home.ffa\\\"></h6></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ 'title':(i18n(course.attributes, 'description')), \"class\": [('media-body')] }, {\"title\":true})) + \"><h6 class=\\\"course-name\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name') + ':') ? \"\" : jade.interp)) + \"</h6><p class=\\\"small\\\">\");\nvar total = 0;\n// iterate course.get('concepts') || []\n;(function(){\n  var $$obj = course.get('concepts') || [];\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nif (conceptsSeen[concept]) continue;\nconceptsSeen[concept] = true;\nif ( total === 3)\n{\ntotal += 1;\nbuf.push(\"<span>...</span>\");\ncontinue;\n}\nelse if ( total > 3)\n{\ncontinue;\n}\nelse if ( total > 0)\n{\nbuf.push(\"<span class=\\\"spr\\\">,</span>\");\n}\ntotal += 1;\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></span>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nif (conceptsSeen[concept]) continue;\nconceptsSeen[concept] = true;\nif ( total === 3)\n{\ntotal += 1;\nbuf.push(\"<span>...</span>\");\ncontinue;\n}\nelse if ( total > 3)\n{\ncontinue;\n}\nelse if ( total > 0)\n{\nbuf.push(\"<span class=\\\"spr\\\">,</span>\");\n}\ntotal += 1;\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></span>\");\n    }\n\n  }\n}).call(this);\n\nif ( total === 0)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = course.get('description')) ? \"\" : jade.interp)) + \"</span>\");\n}\nbuf.push(\"</p></div><img\" + (jade.attrs({ 'src':(\"/images/pages/home/\" + course.get('slug') + \".png\"), \"class\": [('media-object')] }, {\"src\":true})) + \"/><h6 class=\\\"course-duration\\\"><span data-i18n=\\\"new_home.lesson_time\\\" class=\\\"spr\\\"></span><span class=\\\"course-hours\\\">\" + (jade.escape(null == (jade.interp = course.get('duration') || 0) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"units.hours\\\" class=\\\"spl unit\\\"></span></h6></div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var courseIndex in $$obj) {\n      $$l++;      var course = $$obj[courseIndex];\n\nbuf.push(\"<div class=\\\"col-md-3 col-sm-4\\\"><div\" + (jade.attrs({ 'data-course-slug':(course.get('slug')), \"class\": [('media'),('course-details')] }, {\"data-course-slug\":true})) + \">\");\nif ( courseIndex === 0)\n{\nbuf.push(\"<div class=\\\"free-course\\\"><h6 data-i18n=\\\"new_home.ffa\\\"></h6></div>\");\n}\nbuf.push(\"<div\" + (jade.attrs({ 'title':(i18n(course.attributes, 'description')), \"class\": [('media-body')] }, {\"title\":true})) + \"><h6 class=\\\"course-name\\\">\" + (jade.escape(null == (jade.interp = i18n(course.attributes, 'name') + ':') ? \"\" : jade.interp)) + \"</h6><p class=\\\"small\\\">\");\nvar total = 0;\n// iterate course.get('concepts') || []\n;(function(){\n  var $$obj = course.get('concepts') || [];\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nif (conceptsSeen[concept]) continue;\nconceptsSeen[concept] = true;\nif ( total === 3)\n{\ntotal += 1;\nbuf.push(\"<span>...</span>\");\ncontinue;\n}\nelse if ( total > 3)\n{\ncontinue;\n}\nelse if ( total > 0)\n{\nbuf.push(\"<span class=\\\"spr\\\">,</span>\");\n}\ntotal += 1;\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></span>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nif (conceptsSeen[concept]) continue;\nconceptsSeen[concept] = true;\nif ( total === 3)\n{\ntotal += 1;\nbuf.push(\"<span>...</span>\");\ncontinue;\n}\nelse if ( total > 3)\n{\ncontinue;\n}\nelse if ( total > 0)\n{\nbuf.push(\"<span class=\\\"spr\\\">,</span>\");\n}\ntotal += 1;\nbuf.push(\"<span\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></span>\");\n    }\n\n  }\n}).call(this);\n\nif ( total === 0)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = course.get('description')) ? \"\" : jade.interp)) + \"</span>\");\n}\nbuf.push(\"</p></div><img\" + (jade.attrs({ 'src':(\"/images/pages/home/\" + course.get('slug') + \".png\"), \"class\": [('media-object')] }, {\"src\":true})) + \"/><h6 class=\\\"course-duration\\\"><span data-i18n=\\\"new_home.lesson_time\\\" class=\\\"spr\\\"></span><span class=\\\"course-hours\\\">\" + (jade.escape(null == (jade.interp = course.get('duration') || 0) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"units.hours\\\" class=\\\"spl unit\\\"></span></h6></div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"<div class=\\\"col-md-3 col-sm-4\\\"><div class=\\\"media disabled\\\"><div class=\\\"media-body\\\"><p data-i18n=\\\"new_home.coming_soon\\\" class=\\\"small\\\"></p></div><img src=\\\"/images/pages/home/inprogress.png\\\" class=\\\"media-object\\\"/></div></div><div class=\\\"clearfix\\\"></div><div class=\\\"text-center\\\"><h4><img src=\\\"/images/pages/about/new_languages.png\\\"/><div data-i18n=\\\"new_home.courses_available_in\\\"></div></h4></div></div><div class=\\\"testimonials-rows\\\"><div class=\\\"testimonials-filler-left\\\"></div><div class=\\\"testimonials-filler-right\\\"></div><div class=\\\"row\\\"><div class=\\\"col-lg-offset-2 col-lg-7 col-sm-8\\\"><blockquote><h3 data-i18n=\\\"new_home.boast\\\"></h3></blockquote></div><div class=\\\"col-lg-2 col-sm-3 text-center\\\"><img src=\\\"/images/pages/home/opensource.png\\\" class=\\\"img-circle\\\"/><h6>Open Source</h6><div class=\\\"small\\\">opensource.com</div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-7 col-sm-8 col-sm-push-4 col-lg-push-3\\\"><blockquote><h3 data-i18n=\\\"new_home.winning\\\"></h3></blockquote></div><div class=\\\"col-lg-2 col-sm-3 col-lg-offset-1 text-center col-sm-pull-8 col-lg-pull-7\\\"><img src=\\\"/images/pages/home/pcmag.png\\\" class=\\\"img-circle\\\"/><h6>PC Mag</h6><div class=\\\"small\\\">pcmag.com</div></div></div></div><div class=\\\"request-demo-row text-center\\\"><h3 data-i18n=\\\"new_home.run_class\\\"></h3>\");\nif ( view.isTeacherWithDemo)\n{\nbuf.push(\"<div><button data-event-action=\\\"Homepage Setup Class Page Bottom\\\" data-i18n=\\\"new_home.setup_a_class\\\" class=\\\"btn btn-primary btn-lg setup-class-btn\\\"></button></div>\");\n}\nelse\n{\nbuf.push(\"<div><button data-event-action=\\\"Homepage Request Demo Page Bottom\\\" data-i18n=\\\"new_home.request_demo\\\" class=\\\"btn btn-primary btn-lg request-demo\\\"></button></div>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<div class=\\\"have-an-account\\\"><span data-i18n=\\\"new_home.have_an_account\\\" class=\\\"spr\\\"></span><a data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></div>\");\n}\n}\nbuf.push(\"</div><div id=\\\"screenshot-lightbox\\\" data-show=\\\"false\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div id=\\\"screenshot-carousel\\\" class=\\\"carousel\\\"><ol class=\\\"carousel-indicators\\\"><li data-target=\\\".screenshot-display\\\" data-slide-to=\\\"0\\\" class=\\\"active\\\"></li><li data-target=\\\".screenshot-display\\\" data-slide-to=\\\"1\\\"></li><li data-target=\\\".screenshot-display\\\" data-slide-to=\\\"2\\\"></li><li data-target=\\\".screenshot-display\\\" data-slide-to=\\\"3\\\"></li></ol><div class=\\\"carousel-inner\\\"><div class=\\\"item active\\\"><img id=\\\"screenshot-desert\\\" src=\\\"/images/pages/about/desert.jpg\\\"/></div><div class=\\\"item\\\"><img id=\\\"screenshot-forest\\\" src=\\\"/images/pages/about/forest.jpg\\\"/></div><div class=\\\"item\\\"><img id=\\\"screenshot-dungeon\\\" src=\\\"/images/pages/about/dungeon.jpg\\\"/></div><div class=\\\"item\\\"><img id=\\\"screenshot-glacier\\\" src=\\\"/images/pages/about/glacier.jpg\\\"/></div></div><a id=\\\"carousel-left\\\" href=\\\"#screenshot-carousel\\\" role=\\\"button\\\" class=\\\"left carousel-control\\\"><span aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicons-chevron-left glyphicon-chevron-left\\\"></span><span data-i18n=\\\"about.previous\\\" class=\\\"sr-only\\\"></span></a><a id=\\\"carousel-right\\\" href=\\\"#screenshot-carousel\\\" role=\\\"button\\\" class=\\\"right carousel-control\\\"><span aria-hidden=\\\"true\\\" class=\\\"glyphicon glyphicons-chevron-right glyphicon-chevron-right\\\"></span><span data-i18n=\\\"play.next\\\" class=\\\"sr-only\\\"></span></a></div></div></div></div></div></div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright ©2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","RootView = require 'views/core/RootView'\ntemplate = require 'templates/home-view'\nCocoCollection = require 'collections/CocoCollection'\nTrialRequest = require 'models/TrialRequest'\nTrialRequests = require 'collections/TrialRequests'\nCourses = require 'collections/Courses'\nutils = require 'core/utils'\nstorage = require 'core/storage'\n{logoutUser, me} = require('core/auth')\n\n#  TODO: auto margin feature paragraphs\n\nmodule.exports = class HomeView extends RootView\n  id: 'home-view'\n  className: 'style-flat'\n  template: template\n\n  events:\n    'click .play-btn': 'onClickPlayButton'\n    'change #school-level-dropdown': 'onChangeSchoolLevelDropdown'\n    'click .student-btn': 'onClickStudentButton'\n    'click .teacher-btn': 'onClickTeacherButton'\n    'click #learn-more-link': 'onClickLearnMoreLink'\n    'click .screen-thumbnail': 'onClickScreenThumbnail'\n    'click #carousel-left': 'onLeftPressed'\n    'click #carousel-right': 'onRightPressed'\n    'click .request-demo': 'onClickRequestDemo'\n    'click .logout-btn': 'logoutAccount'\n    'click .profile-btn': 'onClickViewProfile'\n    'click .setup-class-btn': 'onClickSetupClass'\n    'click .resource-btn': 'onClickResourceButton'\n\n  shortcuts:\n    'right': 'onRightPressed'\n    'left': 'onLeftPressed'\n    'esc': 'onEscapePressed'\n\n  initialize: (options) ->\n    @courses = new Courses()\n    @supermodel.trackRequest @courses.fetchReleased()\n\n    if me.isTeacher()\n      @trialRequests = new TrialRequests()\n      @trialRequests.fetchOwn()\n      @supermodel.loadCollection(@trialRequests)\n\n    isHourOfCodeWeek = false  # Temporary: default to hourOfCode flow during the main event week\n    @playURL = if me.isStudent()\n      '/students'\n    else if isHourOfCodeWeek\n      '/play?hour_of_code=true'\n    else\n      '/play'\n\n  onLoaded: ->\n    @trialRequest = @trialRequests.first() if @trialRequests?.size()\n    @isTeacherWithDemo = @trialRequest and @trialRequest.get('status') in ['approved', 'submitted']\n    super()\n\n  onClickLearnMoreLink: ->\n    window.tracker?.trackEvent 'Homepage Click Learn More', category: 'Homepage', []\n    @scrollToLink('#classroom-in-box-container')\n\n  onClickPlayButton: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n\n  onClickRequestDemo: (e) ->\n    @playSound 'menu-button-click'\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n    if me.isTeacher()\n      application.router.navigate '/teachers/update-account', trigger: true\n    else\n      application.router.navigate '/teachers/demo', trigger: true\n\n  onClickSetupClass: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n    application.router.navigate(\"/teachers/classes\", { trigger: true })\n\n  onClickStudentButton: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n    @render?() if document.location.href.search('/home#create-account-student') isnt -1\n\n  onClickTeacherButton: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n    if me.isTeacher()\n      application.router.navigate('/teachers', { trigger: true })\n    else\n      application.router.navigate('/teachers/signup', { trigger: true })\n\n  onClickViewProfile: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n    application.router.navigate(\"/user/#{me.getSlugOrID()}\", { trigger: true })\n\n  onClickResourceButton: (e) ->\n    window.tracker?.trackEvent $(e.target).data('event-action'), category: 'Homepage', []\n    application.router.navigate('/teachers/resources', { trigger: true })\n\n  afterRender: ->\n    @onChangeSchoolLevelDropdown()\n    @$('#screenshot-lightbox').modal()\n    @$('#screenshot-carousel').carousel({\n      interval: 0\n      keyboard: false\n    })\n    $(window).on 'resize', @fitToPage\n    @fitToPage()\n    setTimeout(@fitToPage, 0)\n    if me.isAnonymous()\n      CreateAccountModal = require 'views/core/CreateAccountModal/CreateAccountModal'\n      if document.location.hash is '#create-account'\n        @openModalView(new CreateAccountModal())\n      if document.location.hash is '#create-account-individual'\n        @openModalView(new CreateAccountModal({startOnPath: 'individual'}))\n      if document.location.hash is '#create-account-student'\n        @openModalView(new CreateAccountModal({startOnPath: 'student'}))\n    super()\n\n  destroy: ->\n    $(window).off 'resize', @fitToPage\n    super()\n\n  logoutAccount: ->\n    Backbone.Mediator.publish(\"auth:logging-out\", {})\n    logoutUser()\n\n  onChangeSchoolLevelDropdown: (e) ->\n    levels =\n      elementary:\n        'introduction-to-computer-science': '2-4'\n        'game-dev-1': '2-3'\n        'web-dev-1': '2-3'\n        'game-development-1': '2-3'\n        'web-development-1': '2-3'\n        'game-development-2': '2-3'\n        'web-development-3': '2-3'\n        'computer-science-6': '24-30'\n        'computer-science-7': '30-40'\n        'computer-science-8': '30-40'\n        default: '16-25'\n        total: '150-215 hours (about two and a half years)'\n      middle:\n        'introduction-to-computer-science': '1-3'\n        'game-dev-1': '1-3'\n        'web-dev-1': '1-3'\n        'game-development-1': '1-3'\n        'web-development-1': '1-3'\n        'game-development-2': '1-3'\n        'web-development-2': '1-3'\n        'computer-science-6': '12-14'\n        'computer-science-7': '14-16'\n        'computer-science-8': '14-16'\n        default: '8-12'\n        total: '75-100 hours (about one and a half years)'\n      high:\n        'introduction-to-computer-science': '1'\n        'game-dev-1': '1-2'\n        'web-dev-1': '1-2'\n        'game-development-1': '1-2'\n        'web-development-1': '1-2'\n        'game-development-2': '1-2'\n        'web-development-2': '1-2'\n        'computer-science-6': '10-12'\n        'computer-science-7': '12-16'\n        'computer-science-8': '12-16'\n        default: '8-10'\n        total: '65-85 hours (about one year)'\n    level = if e then $(e.target).val() else 'middle'\n    @$el.find('#courses-row .course-details').each ->\n      slug = $(@).data('course-slug')\n      duration = levels[level][slug] or levels[level].default\n      $(@).find('.course-duration .course-hours').text duration\n      $(@).find('.course-duration .unit').text($.i18n.t(if duration is '1' then 'units.hour' else 'units.hours'))\n    @$el.find('#semester-duration').text levels[level].total\n\n  onRightPressed: (event) ->\n    # Special handling, otherwise after you click the control, keyboard presses move the slide twice\n    return if event.type is 'keydown' and $(document.activeElement).is('.carousel-control')\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      $('#screenshot-carousel').carousel('next')\n\n  onLeftPressed: (event) ->\n    return if event.type is 'keydown' and $(document.activeElement).is('.carousel-control')\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      $('#screenshot-carousel').carousel('prev')\n\n  onEscapePressed: (event) ->\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      $('#screenshot-lightbox').modal('hide')\n\n  onClickScreenThumbnail: (event) ->\n    unless $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      # Modal opening happens automatically from bootstrap\n      $('#screenshot-carousel').carousel($(event.currentTarget).data(\"index\"))\n\n  fitToPage: =>\n    windowHeight = $(window).height()\n    linkBox = @$(\"#learn-more-link\").parent()\n    linkOffset = linkBox.offset()\n    adjustment = windowHeight - (linkOffset.top + linkBox.height())\n    target = @$('.top-spacer').first()\n    newOffset = parseInt(target.css('height') || 0) + adjustment\n    newOffset = Math.min(Math.max(0, newOffset), 170)\n    target.css(height: \"#{newOffset}px\")\n"]}