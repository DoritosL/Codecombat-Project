{"version":3,"sources":["app/views/AboutView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,iBAAR;;AAEX,MAAM,CAAC,OAAP,GAAuB;;;;;;;sBACrB,KAAI;;sBACJ,WAAU;;sBAEV,oBAAmB;;sBAEnB,SACE;IAAA,sBAAsB,qBAAtB;IACA,2BAA2B,wBAD3B;IAEA,wBAAwB,eAFxB;IAGA,yBAAyB,gBAHzB;;;sBAKF,YACE;IAAA,SAAS,gBAAT;IACA,QAAQ,eADR;IAEA,OAAO,iBAFP;;;sBAIF,WAAU;AAAG,WAAO,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,WAAT;EAAV;;sBAEV,cAAa;IACX,4CAAM,SAAN;IACA,IAAC,EAAD,CAAG,YAAH,CAAgB,CAAC,KAAjB,CAAuB;MACrB,QACE;QAAA,KAAK;iBACH,EAAE,gBAAF,CAAmB,CAAC,MAApB,EAA4B,CAAC;QAD1B,CAAL;OAFmB;KAAvB;IAMA,EAAE,MAAF,CAAS,CAAC,SAAV,CACE;MAAA,QAAQ,gBAAR;MACA,QAAQ,GADR;KADF;IAIA,IAAC,EAAD,CAAG,sBAAH,CAA0B,CAAC,KAA3B;WAEA,IAAC,EAAD,CAAG,sBAAH,CAA0B,CAAC,QAA3B,CAAoC;MAClC,UAAU,CADwB;MAElC,UAAU,KAFwB;KAApC;EAdW;;sBAmBb,cAAa;AAEX;IAAA,IAAI;aAAA;AACF;QAAA,IAAU,KAAC,UAAX;AAAA;;QACA,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,IAApB;QACP,IAAG,IAAI,CAAC,MAAR;iBACE,KAAC,aAAD,CAAc,QAAQ,CAAC,QAAQ,CAAC,IAAhC,EAAsC,CAAtC,EADF;;MAHE;IAAA;WAKJ,CAAC,CAAC,KAAF,CAAQ,CAAR,EAAW,GAAX;EAPW;;sBASb,sBAAqB,SAAC,KAAD;AACnB;IAAA,KAAK,CAAC,cAAN;IACA,OAAO,EAAE,KAAK,CAAC,MAAR,CAAe,CAAC,OAAhB,CAAwB,GAAxB;IACP,SAAS,IAAI,CAAC,IAAL,CAAU,MAAV;IACT,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,IAA3B,EAAiC,UAAQ,MAAzC;WACA,IAAC,aAAD,CAAc,MAAd;EALmB;;sBAOrB,iBAAgB,SAAC,KAAD;AAEd;IAAA,IAAU,KAAK,CAAC,IAAN,KAAc,SAAd,IAA4B,EAAE,QAAQ,CAAC,aAAX,CAAyB,CAAC,EAA1B,CAA6B,mBAA7B,CAAtC;AAAA;;IACA,oEAA6C,CAAE,gBAA/C;MACE,KAAK,CAAC,cAAN;aACA,EAAE,sBAAF,CAAyB,CAAC,QAA1B,CAAmC,MAAnC,EAFF;;EAHc;;sBAOhB,gBAAe,SAAC,KAAD;AACb;IAAA,IAAU,KAAK,CAAC,IAAN,KAAc,SAAd,IAA4B,EAAE,QAAQ,CAAC,aAAX,CAAyB,CAAC,EAA1B,CAA6B,mBAA7B,CAAtC;AAAA;;IACA,oEAA6C,CAAE,gBAA/C;MACE,KAAK,CAAC,cAAN;aACA,EAAE,sBAAF,CAAyB,CAAC,QAA1B,CAAmC,MAAnC,EAFF;;EAFa;;sBAMf,kBAAiB,SAAC,KAAD;AACf;IAAA,oEAA6C,CAAE,gBAA/C;MACE,KAAK,CAAC,cAAN;aACA,EAAE,sBAAF,CAAyB,CAAC,KAA1B,CAAgC,MAAhC,EAFF;;EADe;;sBAKjB,yBAAwB,SAAC,KAAD;AACtB;IAAA,sEAAiD,CAAE,iBAAnD;MACE,KAAK,CAAC,cAAN;aAEA,EAAE,sBAAF,CAAyB,CAAC,QAA1B,CAAmC,EAAE,KAAK,CAAC,aAAR,CAAsB,CAAC,IAAvB,CAA4B,OAA5B,CAAnC,EAHF;;EADsB;;;;GAxEe","file":"public/javascripts/app/views/AboutView.js","sourcesContent":["RootView = require 'views/core/RootView'\ntemplate = require 'templates/about'\n\nmodule.exports = class AboutView extends RootView\n  id: 'about-view'\n  template: template\n\n  logoutRedirectURL: false\n\n  events:\n    'click #fixed-nav a': 'onClickFixedNavLink'\n    'click .screen-thumbnail': 'onClickScreenThumbnail'\n    'click #carousel-left': 'onLeftPressed'\n    'click #carousel-right': 'onRightPressed'\n\n  shortcuts:\n    'right': 'onRightPressed'\n    'left': 'onLeftPressed'\n    'esc': 'onEscapePressed'\n\n  getTitle: -> return $.i18n.t('nav.about')\n\n  afterRender: ->\n    super(arguments...)\n    @$('#fixed-nav').affix({\n      offset:\n        top: ->\n          $('#nav-container').offset().top\n    })\n    #TODO: Maybe cache top value between page resizes to save CPU\n    $('body').scrollspy(\n      target: '#nav-container'\n      offset: 150\n    )\n    @$('#screenshot-lightbox').modal()\n\n    @$('#screenshot-carousel').carousel({\n      interval: 0\n      keyboard: false\n    })\n\n  afterInsert: ->\n    # scroll to the current hash, once everything in the browser is set up\n    f = =>\n      return if @destroyed\n      link = $(document.location.hash)\n      if link.length\n        @scrollToLink(document.location.hash, 0)\n    _.delay(f, 100)\n\n  onClickFixedNavLink: (event) ->\n    event.preventDefault() # prevent default page scroll\n    link = $(event.target).closest('a')\n    target = link.attr('href')\n    history.replaceState(null, null, \"about#{target}\") # update hash without triggering page scroll\n    @scrollToLink(target)\n\n  onRightPressed: (event) ->\n    # Special handling, otherwise after you click the control, keyboard presses move the slide twice\n    return if event.type is 'keydown' and $(document.activeElement).is('.carousel-control')\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      $('#screenshot-carousel').carousel('next')\n\n  onLeftPressed: (event) ->\n    return if event.type is 'keydown' and $(document.activeElement).is('.carousel-control')\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      $('#screenshot-carousel').carousel('prev')\n\n  onEscapePressed: (event) ->\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      $('#screenshot-lightbox').modal('hide')\n\n  onClickScreenThumbnail: (event) ->\n    unless $('#screenshot-lightbox').data('bs.modal')?.isShown\n      event.preventDefault()\n      # Modal opening happens automatically from bootstrap\n      $('#screenshot-carousel').carousel($(event.currentTarget).data(\"index\"))\n"]}